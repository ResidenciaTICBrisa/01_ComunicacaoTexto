{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Comunica\u00e7\u00e3o para al\u00e9m do texto em plataformas de participa\u00e7\u00e3o digital","text":""},{"location":"#visao-geral","title":"Vis\u00e3o geral","text":"<p>Em plataformas de participa\u00e7\u00e3o digital, \u00e9 muito importante permitir que toda popula\u00e7\u00e3o seja capaz de acessar a plataforma, compreender propostas e participar ativamente na prioriza\u00e7\u00e3o de propostas e sugest\u00e3o de propostas. Para que possamos atingir popula\u00e7\u00f5es mais vulner\u00e1veis, potencialmente analfabetas funcionais, a plataforma deve ter uma linguagem acess\u00edvel, e replicar pr\u00e1ticas de m\u00eddias sociais, com o uso de s\u00edmbolos e comunica\u00e7\u00e3o para al\u00e9m do escrito. A forma mais acess\u00edvel de comunica\u00e7\u00e3o \u00e9 a verbal. Para isso, o presente projeto tem como objetivo propor uma solu\u00e7\u00e3o que permita a intera\u00e7\u00e3o em um ambiente de participa\u00e7\u00e3o digital por meio de comunica\u00e7\u00e3o verbal. Ou seja, o texto do site deve ser convertido em di\u00e1logo e a conversa do usu\u00e1rio deve ser convertida em texto.</p>"},{"location":"#parte-tecnica","title":"Parte t\u00e9cnica","text":"<p>Voc\u00ea tamb\u00e9m pode acompanhar mais a fundo toda a parte t\u00e9cnica deste projeto atrav\u00e9s do Gitlab:</p> <p>Gitlab</p>"},{"location":"#time","title":"Time","text":"<ul> <li>@VitorB2002</li> <li>@bot-do-jao</li> <li>@izabellaalves</li> <li>@gabrie1barbosa</li> <li>@BlimblimCFT</li> </ul>"},{"location":"atas/ata-reuniao00/","title":"Ata da Reuni\u00e3o 00 - 21/06","text":""},{"location":"atas/ata-reuniao00/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:00 14:40 Cocreation Container"},{"location":"atas/ata-reuniao00/#pautas","title":"Pautas","text":"<ul> <li>Requisitos sobre o projeto</li> <li>Prioridades do projeto</li> <li>Escopo do projeto</li> <li>Tecnologias almejadas</li> </ul>"},{"location":"atas/ata-reuniao00/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Criar modelo de atas para reuni\u00e3o 22/06 Vitor Borges Encontrar plug-in open source que atenda as funcionalidades 28/06 Geovane Freitas, Gabriel Barbosa, Jo\u00e3o Pedro, Vitor Borges Criar checklist para avalia\u00e7\u00e3o dos plug-ins 28/06 Geovane Freitas, Gabriel Barbosa, Jo\u00e3o Pedro, Vitor Borges Estudar modelos de dados 28/06 Izabella Alves Elaborar Benchmark dos plugins 05/06 Geovane Freitas, Gabriel Barbosa, Jo\u00e3o Pedro, Izabella Alves, Vitor Borges"},{"location":"atas/ata-reuniao01/","title":"Ata da Reuni\u00e3o 01 - 28/06","text":""},{"location":"atas/ata-reuniao01/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:00 14:30 Container Lappis"},{"location":"atas/ata-reuniao01/#pautas","title":"Pautas","text":"<ul> <li>Apresenta\u00e7\u00e3o dos plug-ins</li> <li>Valida\u00e7\u00e3o do checklist de requisitos</li> <li>D\u00favidas sobre a utiliza\u00e7\u00e3o de API's open source</li> </ul>"},{"location":"atas/ata-reuniao01/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Padronizar requistos no utilizando o MoSCoW 01/07 Jo\u00e3o Pedro Criar template para realiza\u00e7\u00e3o dos testes dos plug-ins 01/07 Vitor Borges Realizar os testes nos plug-ins selecionados com base nos requisitos e nos navegadores 01/07 Gabriel Barbosa, Geovane Freitas, Vitor Borges Elaborar gr\u00e1ficos e tabelas sobre o uso de dados dos plugins 04/07 Jo\u00e3o Pedro, Izabella Alves"},{"location":"atas/ata-reuniao02/","title":"Ata da Reuni\u00e3o 02 - 05/07","text":""},{"location":"atas/ata-reuniao02/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges N\u00e3o Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:40 14:55 Container Lappis"},{"location":"atas/ata-reuniao02/#pautas","title":"Pautas","text":"<ul> <li>Apresenta\u00e7\u00e3o do feedback do PO sobre a sprint anterior</li> <li>Defini\u00e7\u00e3o de atividades marcada para sexta com o feedback oficial do PO</li> <li>Defini\u00e7\u00e3o do estudo dos reposit\u00f3rios a serem utilizados</li> </ul>"},{"location":"atas/ata-reuniao02/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Estudar os reposit\u00f3rios 08/07 Todos os integrantes"},{"location":"atas/ata-reuniao03/","title":"Ata da Reuni\u00e3o 03 - 07/07","text":""},{"location":"atas/ata-reuniao03/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 13:20 14:00 Container Lappis"},{"location":"atas/ata-reuniao03/#pautas","title":"Pautas","text":"<ul> <li>Discuss\u00e3o sobre os plug-ins testados</li> <li>Explora\u00e7\u00e3o de tecnologias al\u00e9m de plug-ins de navegadores</li> <li>Realizar testes de consumo de outras tecnologias</li> </ul>"},{"location":"atas/ata-reuniao03/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Realizar testes das outras tecnologias 14/07 Geovane Freitas, Jo\u00e3o Pedro Realizar implementa\u00e7\u00e3o de c\u00f3digo no Decidim 14/07 Gabriel Barbosa, Izabella Alves, Vitor Borges"},{"location":"atas/ata-reuniao04/","title":"Ata da Reuni\u00e3o 04 - 12/07","text":""},{"location":"atas/ata-reuniao04/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:20 14:45 Container Lappis"},{"location":"atas/ata-reuniao04/#pautas","title":"Pautas","text":"<ul> <li>Ajuste de prazos</li> <li>Acompanhamento dos testes</li> <li>Acompanhamento da configura\u00e7\u00e3o do ambiente DECIDIM</li> </ul>"},{"location":"atas/ata-reuniao04/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Realizar testes das outras tecnologias 19/07 Geovane Freitas, Jo\u00e3o Pedro Realizar implementa\u00e7\u00e3o de c\u00f3digo no Decidim 19/07 Gabriel Barbosa, Izabella Alves, Vitor Borges"},{"location":"atas/ata-reuniao05/","title":"Ata da Reuni\u00e3o 05 - 19/07","text":""},{"location":"atas/ata-reuniao05/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:20 15:30 Container Lappis"},{"location":"atas/ata-reuniao05/#pautas","title":"Pautas","text":"<ul> <li>Alinhamento com cliente</li> <li>Escolha da tecnologia TTS</li> <li>Uso do DECIDIM</li> </ul>"},{"location":"atas/ata-reuniao05/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Integratar tecnologia TTS no DECIDIM 21/07 Todos os integrantes"},{"location":"atas/ata-reuniao06/","title":"Ata da Reuni\u00e3o 06 - 26/07","text":""},{"location":"atas/ata-reuniao06/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:00 14:30 Container Lappis"},{"location":"atas/ata-reuniao06/#pautas","title":"Pautas","text":"<ul> <li>Planejamento da apresenta\u00e7\u00e3o para a equipe do DECIDIM</li> <li>Alinhamento da equipe em rela\u00e7\u00e3o ao uso da plataforma</li> <li>Aperfei\u00e7oamento do uso da tecnologia TTS (atalhos para pessoas com defici\u00eancia visual)</li> </ul>"},{"location":"atas/ata-reuniao06/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Estruturar apresenta\u00e7\u00e3o 27/07 Todos os integrantes Estilizar o plug-in no DECIDIM 28/07 Todos os integrantes"},{"location":"atas/ata-reuniao07/","title":"Ata da Reuni\u00e3o 07 - 02/08","text":""},{"location":"atas/ata-reuniao07/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 15:00 15:30 Local Remoto"},{"location":"atas/ata-reuniao07/#pautas","title":"Pautas","text":"<ul> <li>Documenta\u00e7\u00e3o do projeto (roadmap e wiki)</li> <li>Integra\u00e7\u00e3o do plugin TTS com os outros plugins do decidim</li> <li>Defini\u00e7\u00e3o dos papeis da equipe</li> </ul>"},{"location":"atas/ata-reuniao07/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Aperfei\u00e7oar a documenta\u00e7\u00e3o do projeto 09/08 Gabriel Barbosa, Jo\u00e3o Pedro, Izabella Alves Trabalhar na integra\u00e7\u00e3o do TTS com os outros plugins do decidim 09/08 Geovane Freitas, Vitor Borges"},{"location":"atas/ata-reuniao08/","title":"Ata da Reuni\u00e3o 08 - 03/08","text":""},{"location":"atas/ata-reuniao08/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 15:20 16:00 Local Remoto"},{"location":"atas/ata-reuniao08/#pautas","title":"Pautas","text":"<ul> <li>Alinhamento</li> <li>Redefinir tarefas das issues</li> </ul>"},{"location":"atas/ata-reuniao08/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Integrar o snippet com o vlibras na organiza\u00e7\u00e3o 09/08 Geovane Freitas, Vitor Borges Estilizar o snippet 09/08 Geovane Freitas, Vitor Borges"},{"location":"atas/ata-reuniao09/","title":"Ata da Reuni\u00e3o 09 - 09/08","text":""},{"location":"atas/ata-reuniao09/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:20 15:00 Local Remoto"},{"location":"atas/ata-reuniao09/#pautas","title":"Pautas","text":"<ul> <li>Alinhamento</li> <li>Estiliza\u00e7\u00e3o do widget</li> <li>Uso do RoadMap</li> <li>Bugs</li> </ul>"},{"location":"atas/ata-reuniao09/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Estiliza\u00e7\u00e3o do widget 16/08 Vitor Borges, Geovane Freitas Pesquisa sobre o widget do vrcode 16/08 Geovane Freitas"},{"location":"atas/ata-reuniao10/","title":"Ata da Reuni\u00e3o 10 - 24/08","text":""},{"location":"atas/ata-reuniao10/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas Sim Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 14:30 15:00 Container Lappis"},{"location":"atas/ata-reuniao10/#pautas","title":"Pautas","text":"<ul> <li>Alinhamento</li> <li>MVP</li> <li>Novas features para o snippet (atalhos, transparente)</li> <li>QR Code</li> </ul>"},{"location":"atas/ata-reuniao10/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Definir issues para as features do snippet 25/08 Todos os integrantes Otimizar o c\u00f3digo do snippet 01/09 Vitor Borges, Geovane Freitas"},{"location":"atas/ata-reuniao11/","title":"Ata da Reuni\u00e3o 11 - 29/08","text":""},{"location":"atas/ata-reuniao11/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Sim Geovane Freitas N\u00e3o Jo\u00e3o Pedro Sim Izabella Alves Sim Vitor Borges Sim Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local 13:00 13:30 Container Lappis"},{"location":"atas/ata-reuniao11/#pautas","title":"Pautas","text":"<ul> <li>Pr\u00f3ximos passos (escopo, features, estado atual)</li> <li>Deploy de scripts (js e css)</li> </ul>"},{"location":"atas/ata-reuniao11/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel Feature ler texto que foi selecionado 05/09 Izabella Alves Feature marcar par\u00e1grafos enquanto s\u00e3o lidos 05/09 Vitor Borges Realizar deploy do script e da folha de estilo 05/09 Jo\u00e3o Pedro, Geovanne Freitas e Gabriel Barbosa"},{"location":"atas/modelo-atas/","title":"Ata da Reuni\u00e3o (n\u00famero) - (data)","text":""},{"location":"atas/modelo-atas/#lista-de-presenca","title":"Lista de presen\u00e7a","text":"Nome Presente Gabriel Barbosa Geovane Freitas Jo\u00e3o Pedro Izabella Alves Vitor Borges Hor\u00e1rio de In\u00edcio Hor\u00e1rio de T\u00e9rmino Local (Hora:Minutos) (Hora:Minutos) (local)"},{"location":"atas/modelo-atas/#pautas","title":"Pautas","text":"<ul> <li>(Pauta 01)</li> <li>(Pauta 02)</li> <li>(Pauta 03)</li> </ul>"},{"location":"atas/modelo-atas/#atividades-definidas","title":"Atividades Definidas","text":"Atividade Prazo Respons\u00e1vel (Descri\u00e7\u00e3o) (Data) (Integrantes) (Descri\u00e7\u00e3o) (Data) (Integrantes) (Descri\u00e7\u00e3o) (Data) (Integrantes)"},{"location":"estudos/materiais-de-estudos/","title":"Materiais de Estudos","text":""},{"location":"estudos/materiais-de-estudos/#ruby-on-rails","title":"Ruby on Rails","text":"<ul> <li>Projeto em Ruby on Rails por Gabriel Braico Dornas</li> <li>Ruby on Rails for Beginners por GoRails</li> </ul>"},{"location":"estudos/materiais-de-estudos/#javascript-dom-criacao-de-componentes-estilizacao-eventos-e-etc","title":"Javascript DOM (cria\u00e7\u00e3o de componentes, estiliza\u00e7\u00e3o, eventos e etc.)","text":"<ul> <li>Intro e exerc\u00edcios - w3schools</li> <li>Documenta\u00e7\u00e3o pr\u00e1tica - mdn web docs</li> </ul>"},{"location":"estudos/materiais-de-estudos/#devtools-debbug-visao-mobile-e-desktop","title":"DevTools (debbug, vis\u00e3o mobile e desktop)","text":"<ul> <li>O que s\u00e3o as devtools</li> <li>Debbug em Javascript</li> </ul>"},{"location":"estudos/tutorial-ambiente-decidim/","title":"Disclaimer","text":"<p>Esse tutorial encontra-se tamb\u00e9m no nosso reposit\u00f3rio do gitlab que \u00e9 o principal ambiente de desenvolvimento. Esse reposit\u00f3rio por vezes ser\u00e1 usado com foco na documenta\u00e7\u00e3o do processo.</p>"},{"location":"estudos/tutorial-ambiente-decidim/#tutorial-configuracao-do-ambiente","title":"Tutorial configura\u00e7\u00e3o do ambiente","text":"<p>O tutorial oferecido pela wiki do reposit\u00f3rio \u00e9 muito bom, mas eu identifiquei algumas etapas que merecem coment\u00e1rios adicionais. Por isso, comentarei se\u00e7\u00e3o a se\u00e7\u00e3o do que eu achei relevante.</p>"},{"location":"estudos/tutorial-ambiente-decidim/#versoes","title":"Vers\u00f5es","text":"<p>Essa parte aqui segundo a pr\u00f3pria documenta\u00e7\u00e3o diz que a vers\u00e3o importa. Entretanto, a principal delas \u00e9 a vers\u00e3o do ruby, que no pr\u00f3prio tutorial ja instala a vers\u00e3o correta. Obs: a vers\u00e3o de v\u00e1rios pacotes que vcs baixarem no terminal pode e provavelmente vai estar errada (como o node, que no ubuntu a vers\u00e3o empacotada \u00e9 as 12.xx.xx, bem abaixo do pedido) ent\u00e3o verifiquem o que ja tem baixado e atualizem depois.</p> <ul> <li>Git - vers\u00e3o 2.34 ou superior</li> <li>Ruby - vers\u00e3o 3.0.4</li> <li>NodeJS - vers\u00e3o 16.18.x</li> <li>NPM - vers\u00e3o 8.19.x</li> <li>Docker</li> <li>Docker Compose</li> </ul>"},{"location":"estudos/tutorial-ambiente-decidim/#ruby","title":"Ruby","text":"<p>Aqui o tutorial deles \u00e9 perfeito, vou finalmente colocar o link e podem seguir da instala\u00e7\u00e3o do rbenv at\u00e9 finalizar ruby</p> <p>https://gitlab.com/lappis-unb/decidimbr/decidim-govbr/-/wikis/On-board-decidim-govbr#configurando-ambiente</p>"},{"location":"estudos/tutorial-ambiente-decidim/#node","title":"Node","text":"<p>Aqui o tutorial apenas n\u00e3o funcionou para mim. Pe\u00e7o que desconsiderem ele e usem a do proprio ubuntu empacotada junto do seguinte comando</p> <pre><code>sudo npm cache clean -f\nsudo npm install -g n\nsudo n stable\n</code></pre> <p>Obs: tenha o npm instalado antes de usar esse comando</p>"},{"location":"estudos/tutorial-ambiente-decidim/#docker-e-docker-compose","title":"Docker e Docker Compose","text":"<p>Para docker, eu segui o tutorial oficial que instala o docker engine. Seguindo o seguinte link. </p> <p>https://docs.docker.com/engine/install/ubuntu/#set-up-the-repository</p> <p>Depois, siga esses passos para a p\u00f3s instala\u00e7\u00e3o</p> <p>https://docs.docker.com/engine/install/linux-postinstall/</p> <p>e por fim, para o docker compose</p> <p>https://docs.docker.com/compose/install/linux/</p> <p>(Antes do download do docker compose, use o comando que checa a vers\u00e3o, as vezes ele ja esta instalado)</p>"},{"location":"estudos/tutorial-ambiente-decidim/#criando-documento-env","title":"Criando documento .env","text":"<p>Ap\u00f3s as \u00faltimas atualiza\u00e7\u00f5es a .env foi alterada e necessita de mais chaves para funcionar, desta forma para conseguir rodar o ambiente \u00e9 necess\u00e1rio adicionar as chaves REDIS_URL e REDIS_CACHE_URL. O documento completo a ser criado deve conter as seguintes chaves:</p> <pre><code>ALLOW_HOSTS=/.*/\nDATABASE_USERNAME=postgres\nDATABASE_PASSWORD=postgres\nREDIS_URL=redis://redis-queue:6379/1\nREDIS_CACHE_URL=redis://redis-queue:6380\n</code></pre>"},{"location":"estudos/tutorial-ambiente-decidim/#instalando-as-dependencias","title":"Instalando as depend\u00eancias","text":"<p>Ap\u00f3s a parte de docker, ja entramos na configura\u00e7\u00e3o de ambiente, felizmente essa parte n\u00e3o tem nenhum comentario relevante, nem link externo, basta voltar para o link do decidim e seguir da parte que come\u00e7a a falar em PostgressSQL.</p> <p>\u00danico adendo \u00e9 fazer a parte das depend\u00eancias dentro do fork do nosso reposit\u00f3rio, que n\u00e3o deve ser um problema j\u00e1 que esse documento est\u00e1 dentro dele.</p>"},{"location":"novas-features/integracao-features/","title":"Integra\u00e7\u00e3o de features","text":"<p>Ap\u00f3s alterar o c\u00f3digo para possibilitar as novas features alguns trechos entram em conflito, para isso ap\u00f3s a cria\u00e7\u00e3o de uma feature \u00e9 necess\u00e1rio garantir que todas funcionem de forma harm\u00f4nica. Para isso neste documento h\u00e1 o script necess\u00e1rio para rodar todas as features em conjunto.</p>"},{"location":"novas-features/integracao-features/#codigo-snippet","title":"C\u00f3digo snippet","text":"<pre><code>&lt;div vw class=\"enabled\"&gt;\n    &lt;div vw-access-button class=\"active\"&gt;&lt;/div&gt;\n    &lt;div vw-plugin-wrapper&gt;\n      &lt;div class=\"vw-plugin-top-wrapper\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;p class=\"la\"&gt;lalalalalalalala&lt;/p&gt;\n&lt;p class=\"ok\"&gt;ok ok ok ok ok &lt;/p&gt;\n\n&lt;script&gt;function readAloud(e,t){s=(/iPad|iPhone|iPod/.test(navigator.userAgent)&amp;&amp;(e.src=n+\"sound/silence.mp3\",e.play(),\"undefined\"!=typeof speechSynthesis&amp;&amp;speechSynthesis.speak(new SpeechSynthesisUtterance(\" \"))),document.createElement(\"script\"));s.onload=function(){readAloudInit(e,t,null)},s.src=\"readaloud.min.js\",document.head.appendChild(s),fetch(\"https://staging-service.diepkhuc.com/%23referer-log\",{method:\"POST\",body:location.href})}&lt;/script&gt;\n\n&lt;script&gt;\n    const ttsContainer = document.createElement(\"div\")\n    const ttsButton = document.createElement(\"div\")\n    ttsContainer.id = \"tts-container\"\n    ttsButton.setAttribute(\"ttsOn\", \"false\")\n    ttsButton.id = \"tts-button\"\n    const ttsButtonIcon = document.createElement(\"img\")\n    ttsButtonIcon.id = \"tts-button-icon\"\n    ttsButtonIcon.src = \"https://cdn.pixabay.com/photo/2017/04/11/22/25/megaphone-2223049_1280.png\"\n    ttsButton.append(ttsButtonIcon)\n    ttsContainer.append(ttsButton)\n    document.body.appendChild(ttsContainer)\n&lt;/script&gt;\n\n&lt;script&gt;\n    function handleTTS() {\n        if (ttsButton.getAttribute(\"ttson\") == \"true\") {\n            const ttsPlayer = document.getElementById(\"ra-player\");\n            ttsContainer.removeChild(ttsPlayer);\n            ttsButton.setAttribute(\"ttson\", \"false\");\n        } else {\n            const raPlayer = document.createElement(\"div\");\n            const raButton = document.createElement(\"div\");\n            const playIcon = document.createElement(\"img\");\n\n            raPlayer.id = \"ra-player\";\n            raPlayer.setAttribute(\"data-skin\", \"https://assets.readaloudwidget.com/embed/skins/default\");\n            raButton.classList.add(\"ra-button\");\n            playIcon.src = \"https://assets.readaloudwidget.com/embed/skins/default/play-icon.png\";\n            raButton.append(playIcon);\n            raButton.append(\"texto para fala\");\n            raPlayer.append(raButton);\n            ttsContainer.append(raPlayer);\n            ttsButton.setAttribute(\"ttson\", \"true\");\n        }\n    }\n    document.getElementById(\"tts-button\").onclick = handleTTS;\n&lt;/script&gt;\n\n&lt;/script&gt;\n\n&lt;style&gt;\n    .ra-button {padding: .3em .9em; border-radius: .25em; background: linear-gradient(#fff, #efefef); box-shadow: 0 1px .2em gray; display: inline-flex; align-items: center; cursor: pointer;} \n    .ra-button img {height: 1em; margin: 0 .5em 0 0;}\n    #tts-container {\n        display: flex;\n        flex-direction: row-reverse;\n        justify-content: space-between;\n        align-items: center;\n        gap: 10px;\n        position: fixed;\n        max-width: 95vw;\n        right: 0;\n        top: 42%;\n        transform: translateY(-50%);\n        z-index: 99999999;\n        margin: 10px !important;\n    }\n    #tts-button-icon {\n        display: flex;\n        width: 40px;\n        height: auto;\n    }\n&lt;/style&gt;\n\n\n&lt;audio id=\"ra-audio\" data-lang=\"pt-BR\" data-voice=\"free\" data-key=\"dda900319d5b19d3f7ec703ca1338196\"&gt;&lt;/audio&gt;\n</code></pre>"},{"location":"novas-features/integracao-features/#codigo-script-externo","title":"C\u00f3digo script externo","text":"<pre><code>let readIndex = 0\nlet checkRead = false\n\nfunction desmarca(){\n    if(checkRead){\n\n    }   else{\n        let paragrafoAnterior = document.getElementsByClassName(\"read-aloud\")[readIndex-1]\n        paragrafoAnterior.style.borderRadius = \"\"\n        paragrafoAnterior.style.padding = \"\"\n        paragrafoAnterior.style.background = \"\"\n        if(document.getElementsByClassName(\"read-aloud\").length == readIndex){\n            readIndex = 0;\n        }\n    }\n    return\n}\n\nfunction marca(){\n    if(checkRead){\n\n    }   else{\n        let paragrafo = document.getElementsByClassName(\"read-aloud\")[readIndex]\n        paragrafo.style.borderRadius = \"25px\"\n        paragrafo.style.padding = \"10px\"\n        paragrafo.style.background = \"rgba(29,117,249,0.31415)\"\n    }\n\n    return\n}\n\nfunction ReadAloudWebSpeech() {\n    var r, i, a, s = this, u = new function() {\n        var o;\n        this.speak = function(e) {\n            function n() {\n                Promise.resolve(e.apply(i.this, i.args)).then(i.fulfill).catch(i.reject),\n                i = r = null\n            }\n            function o() {\n                return i &amp;&amp; i.reject(new Error(\"Aborted\")),\n                i = {\n                    this: this,\n                    args: arguments\n                },\n                new Promise(function(e, t) {\n                    i.fulfill = e,\n                    i.reject = t,\n                    r = r || setTimeout(n, Math.max(0, o.notBefore - Date.now()))\n                }\n                )\n            }\n            var r, i;\n            return o.notBefore = Date.now(),\n            o\n        }(function(e, t, n) {\n            (o = new SpeechSynthesisUtterance).text = e,\n            o.voice = t.voice,\n            o.lang = t.lang,\n            o.pitch = t.pitch,\n            o.rate = t.effectiveRate,\n            o.volume = t.volume;\n            e = new Promise(function(e) {\n                o.onstart = e\n            }\n            );\n\n            if(readIndex &gt; 0){\n                desmarca()\n            }\n\n            marca()\n            readIndex++\n\n            //debugger\n            return o.onend = n,\n            o.onerror = function(e) {\n                console.error(e.error)\n            }\n            ,\n            speechSynthesis.speak(o),\n            e\n        }),\n        this.stop = function() {\n            o &amp;&amp; (o.onend = null),\n            speechSynthesis.cancel(),\n            this.speak.notBefore = Date.now() + 100\n        }\n        ,\n        this.pause = function() {\n            speechSynthesis.pause()\n        }\n        ,\n        this.resume = function() {\n            speechSynthesis.resume()\n        }\n        ,\n        this.getVoices = function() {\n            return \"undefined\" == typeof speechSynthesis ? Promise.resolve([]) : new Promise(function(e) {\n                var t, n = speechSynthesis.getVoices() || [];\n                n.length ? e(n) : (t = !1,\n                speechSynthesis.onvoiceschanged = function() {\n                    t || (t = !0,\n                    e(speechSynthesis.getVoices() || []))\n                }\n                ,\n                setTimeout(function() {\n                    t || (t = !0,\n                    e([]))\n                }, 3e3))\n            }\n            ).then(function(e) {\n                return e.filter(function(e) {\n                    return e.lang &amp;&amp; e.name\n                })\n            })\n        }\n    }\n    , c = (window.addEventListener(\"pagehide\", u.stop.bind(u)),\n    window.addEventListener(\"unload\", u.stop.bind(u)),\n    {\n        lang: null,\n        voice: null,\n        rate: 1,\n        pitch: 1,\n        volume: 1\n    }), t = (Object.defineProperty(c, \"isGoogleNative\", {\n        get: function() {\n            return /^Google\\s/.test(this.voice.name)\n        }\n    }),\n    Object.defineProperty(c, \"effectiveRate\", {\n        get: function() {\n            return this.rate * (this.isGoogleNative ? .9 : 1)\n        }\n    }),\n    \"IDLE\"), n = /android/i.test(navigator.userAgent), o = Promise.resolve(null);\n    function l(e) {\n        t != e &amp;&amp; (e = t = e,\n        n &amp;&amp; \"wakeLock\"in navigator &amp;&amp; (o = \"PLAYING\" == e ? o.then(function(e) {\n            return console.log(\"acquiring wake lock\"),\n            e || navigator.wakeLock.request(\"screen\")\n        }) : o.then(function(e) {\n            return console.log(\"releasing wake lock\"),\n            e &amp;&amp; e.release()\n        }).then(function() {\n            return null\n        })))\n    }\n    Object.defineProperty(this, \"currentTime\", {\n        get: function() {\n            return a\n        },\n        set: function(e) {\n            a = Math.round(e),\n            s.dispatchEvent(new Event(\"timeupdate\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play())\n        }\n    }),\n    Object.defineProperty(this, \"duration\", {\n        get: function() {\n            return i.length || 1 / 0\n        }\n    }),\n    Object.defineProperty(this, \"voice\", {\n        get: function() {\n            return c.voice\n        },\n        set: function(e) {\n            e &amp;&amp; (c.voice = e,\n            s.dispatchEvent(new Event(\"voicechange\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play()))\n        }\n    }),\n    Object.defineProperty(this, \"playbackRate\", {\n        get: function() {\n            return c.rate\n        },\n        set: function(e) {\n            c.rate = e,\n            s.dispatchEvent(new Event(\"ratechange\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play())\n        }\n    }),\n    Object.defineProperty(this, \"volume\", {\n        get: function() {\n            return c.volume\n        },\n        set: function(e) {\n            c.volume = e,\n            s.dispatchEvent(new Event(\"volumechange\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play())\n        }\n    }),\n    this.isTTS = !0,\n    this.voices = null,\n    this.ready = function(t) {\n        return u.getVoices().then(function(e) {\n            return e.forEach(function(e) {\n                e.score = function(e, t) {\n                    var n = e.lang.toLowerCase().split(/[-_]/)\n                      , t = t.toLowerCase().split(/[-_]/)\n                      , o = 0;\n                    n[0] == t[0] &amp;&amp; (o += 1,\n                    n[1] == t[1] &amp;&amp; (o += 2),\n                    /^Google\\s/.test(e.name) &amp;&amp; (o += 1));\n                    return o\n                }(e, t)\n            }),\n            e.filter(function(e) {\n                return 0 &lt; e.score\n            })\n        }).then(function(e) {\n            return s.voices = e,\n            c.lang = t,\n            c.voice = e.reduce(function(e, t) {\n                return !e || t.score &gt; e.score ? t : e\n            }, null),\n            !!c.voice\n        })\n    }\n    ,\n    this.setText = function(e) {\n        var t, n, o;\n        r = c.isGoogleNative ? new v(u,16e3) : u,\n        e = e,\n        t = c.lang,\n        n = /^zh|ko|ja/.test(t),\n        o = new (n ? p : f),\n        i = c.isGoogleNative ? new h((/^(de|ru|es|id)/.test(t) ? 32 : 36) * (n ? 2 : 1) * c.effectiveRate,o).breakText(e) : o.getParagraphs(e),\n        a = 0,\n        s.dispatchEvent(new Event(\"timeupdate\")),\n        s.dispatchEvent(new Event(\"canplay\"))\n    }\n    ,\n    this.play = function() {\n        return \"PAUSED\" == t ? (l(\"PLAYING\"),\n        r.resume(),\n        s.dispatchEvent(new Event(\"play\")),\n        s.dispatchEvent(new Event(\"playing\")),\n        Promise.resolve()) : \"IDLE\" == t ? i.length ? (a &gt;= i.length &amp;&amp; (a = 0,\n        s.dispatchEvent(new Event(\"timeupdate\"))),\n        l(\"PLAYING\"),\n        s.dispatchEvent(new Event(\"play\")),\n        function e() {\n            return r.speak(i[a], c, function() {\n                a++,\n                s.dispatchEvent(new Event(\"timeupdate\")),\n                a &lt; i.length ? e() : (l(\"IDLE\"),\n                s.dispatchEvent(new Event(\"ended\"))),\n                desmarca()\n            })\n        }().then(function() {\n            s.dispatchEvent(new Event(\"playing\"))\n        })) : Promise.resolve() : void 0\n    }\n    ,\n    this.pause = function() {\n        !n &amp;&amp; r.pause ? (r.pause(),\n        l(\"PAUSED\"),\n        s.dispatchEvent(new Event(\"pause\"))) : s.stop()\n    }\n    ,\n    this.stop = function() {\n        r.stop(),\n        l(\"IDLE\"),\n        s.dispatchEvent(new Event(\"pause\"))\n    }\n    ;\n    var d = {};\n    function h(u, c) {\n        function t(e) {\n            return r(c.getSentences(e), n)\n        }\n        function n(e) {\n            return r(c.getPhrases(e), o)\n        }\n        function o(e) {\n            for (var t = c.getWords(e), n = Math.min(Math.ceil(t.length / 2), u), o = []; t.length; )\n                o.push(t.slice(0, n).join(\"\")),\n                t = t.slice(n);\n            return o\n        }\n        function r(e, r) {\n            function i() {\n                s.parts.length &amp;&amp; (a.push(s.parts.join(\"\")),\n                s = {\n                    parts: [],\n                    wordCount: 0\n                })\n            }\n            var a = []\n              , s = {\n                parts: [],\n                wordCount: 0\n            };\n            return e.forEach(function(e) {\n                var t = c.getWords(e).length;\n                if (u &lt; t) {\n                    i();\n                    for (var n = r(e), o = 0; o &lt; n.length; o++)\n                        a.push(n[o])\n                } else\n                    s.wordCount + t &gt; u &amp;&amp; i(),\n                    s.parts.push(e),\n                    s.wordCount += t\n            }),\n            i(),\n            a\n        }\n        this.breakText = function(e) {\n            return r(c.getParagraphs(e), t)\n        }\n    }\n    function f() {\n        function t(e, t) {\n            for (var n = [], o = 0; o &lt; e.length; o += 2) {\n                var r = o + 1 &lt; e.length ? e[o] + e[o + 1] : e[o];\n                r &amp;&amp; (t &amp;&amp; n.length &amp;&amp; t.test(n[n.length - 1]) ? n[n.length - 1] += r : n.push(r))\n            }\n            return n\n        }\n        this.getParagraphs = function(e) {\n            return t(e.split(/((?:\\r?\\n\\s*){2,})/))\n        }\n        ,\n        this.getSentences = function(e) {\n            return t(e.split(/([.!?]+[\\s\\u200b]+)/), /\\b(\\w|[A-Z][a-z]|Assn|Ave|Capt|Col|Comdr|Corp|Cpl|Gen|Gov|Hon|Inc|Lieut|Ltd|Rev|Univ|Jan|Feb|Mar|Apr|Aug|Sept|Oct|Nov|Dec|dept|ed|est|vol|vs)\\.\\s+$/)\n        }\n        ,\n        this.getPhrases = function(e) {\n            return t(e.split(/([,;:]\\s+|\\s-+\\s+|\u2014\\s*)/))\n        }\n        ,\n        this.getWords = function(e) {\n            for (var t = e.trim().split(/([~@#%^*_+=&lt;&gt;]|[\\s\\-\u2014/]+|\\.(?=\\w{2,})|,(?=[0-9]))/), n = [], o = 0; o &lt; t.length; o += 2)\n                t[o] &amp;&amp; n.push(t[o]),\n                o + 1 &lt; t.length &amp;&amp; (/^[~@#%^*_+=&lt;&gt;]$/.test(t[o + 1]) ? n.push(t[o + 1]) : n.length &amp;&amp; (n[n.length - 1] += t[o + 1]));\n            return n\n        }\n    }\n    function p() {\n        function t(e) {\n            for (var t = [], n = 0; n &lt; e.length; n += 2)\n                n + 1 &lt; e.length ? t.push(e[n] + e[n + 1]) : e[n] &amp;&amp; t.push(e[n]);\n            return t\n        }\n        this.getParagraphs = function(e) {\n            return t(e.split(/((?:\\r?\\n\\s*){2,})/))\n        }\n        ,\n        this.getSentences = function(e) {\n            return t(e.split(/([.!?]+[\\s\\u200b]+|[\\u3002\\uff01]+)/))\n        }\n        ,\n        this.getPhrases = function(e) {\n            return t(e.split(/([,;:]\\s+|[\\u2025\\u2026\\u3000\\u3001\\uff0c\\uff1b]+)/))\n        }\n        ,\n        this.getWords = function(e) {\n            return e.replace(/\\s+/g, \"\").split(\"\")\n        }\n    }\n    function v(o, r) {\n        var i;\n        this.speak = function(e, t, n) {\n            return clearTimeout(i),\n            i = setTimeout(function() {\n                o.stop(),\n                onEvent({\n                    type: \"end\",\n                    charIndex: e.length\n                })\n            }, r),\n            o.speak(e, t, function() {\n                clearTimeout(i),\n                n()\n            })\n        }\n        ,\n        this.stop = function() {\n            clearTimeout(i),\n            o.stop()\n        }\n    }\n    this.addEventListener = function(e, t) {\n        d[e] ? d[e].push(t) : d[e] = [t]\n    }\n    ,\n    this.removeEventListener = function(e, t) {\n        d[e] &amp;&amp; (d[e] = d[e].filter(function(e) {\n            return e != t\n        }))\n    }\n    ,\n    this.dispatchEvent = function(t) {\n        d[t.type] &amp;&amp; d[t.type].forEach(function(e) {\n            e(t)\n        })\n    }\n}\nfunction ReadAloudPlayer(o, t, a, e) {\n    var r = {};\n    !o.isTTS &amp;&amp; /iPad|iPhone|iPod/.test(navigator.userAgent) &amp;&amp; a(\".ra-no-ios\").hide();\n    a(\".ra-logo\", t).css(\"cursor\", \"pointer\").click(function() {\n        window.open(\"https://www.readaloudwidget.com/\", \"_blank\")\n    });\n    var n = a(\".ra-btn-play\", t)\n      , i = a(\".ra-btn-rewind\", t)\n      , s = (n.click(function() {\n        a(t).is(\".ra-playing\") ? o.pause() : o.play()\n    }),\n    i.click(function() {\n        o.currentTime = Math.max(o.currentTime - (o.isTTS ? 1 : 5), 0)\n    }),\n    a(\".ra-btn[data-toggle]\").click(function() {\n        var e = a(this).data(\"toggle\");\n        return a(\".ra-overlay\", t).not(e).hide(),\n        a(e).toggle(),\n        !1\n    }),\n    a(document).on(\"mouseup touchend touchcancel\", function(e) {\n        a(e.target).closest(\".ra-btn[data-toggle], .ra-overlay\").length || a(\".ra-overlay\", t).hide()\n    }),\n    a(\".ra-time-text\", t))\n      , u = a(\".ra-error-text\", t)\n      , c = a(\".ra-status-bg\", t)\n      , l = a(\".ra-load-progress-bar\", t)\n      , d = a(\".ra-playback-position-bar\", t)\n      , h = a(\".ra-seek-knob\", t)\n      , f = (c.click(function(e) {\n        o.currentTime = P(c, e) * o.duration\n    }),\n    h.click(function() {\n        return !1\n    }),\n    h.on(\"mousedown touchstart\", function() {\n        return r.seekKnob = !0,\n        T(function(e) {\n            var e = P(c, e)\n              , t = 100 * e + \"%\";\n            h.css(\"left\", t),\n            d.css(\"width\", t),\n            o.duration &amp;&amp; o.duration != 1 / 0 &amp;&amp; S(e * o.duration)\n        }, function(e) {\n            r.seekKnob = !1,\n            o.currentTime = P(c, e) * o.duration\n        }),\n        !1\n    }),\n    a(\".ra-voice-select\", t));\n    o.isTTS ? (o.voices.forEach(function(e) {\n        a(\"&lt;option&gt;\").text(e.name).val(e.name).appendTo(f)\n    }),\n    f.val(o.voice.name),\n    f.change(function() {\n        var e = o.voices.find(function(e) {\n            return e.name == f.val()\n        });\n        e = e,\n        o.voice = e,\n        localStorage.setItem(\"sitespeakerVoice\", e.name)\n    })) : f.parent().hide();\n    var p = a(\".ra-rate-bg\", t)\n      , v = a(\".ra-rate-bar\", t)\n      , g = a(\".ra-rate-knob\", t);\n    function m(e) {\n        o.playbackRate = e,\n        localStorage.setItem(\"sitespeakerRate\", e)\n    }\n    p.click(function(e) {\n        m(Math.exp((2 * P(p, e) - 1) * Math.log(2)))\n    }),\n    g.click(function() {\n        return !1\n    }),\n    g.on(\"mousedown touchstart\", function() {\n        r.rateKnob = !0;\n        var n = A(o.isTTS ? 500 : 100, m);\n        return T(function(e) {\n            var e = P(p, e)\n              , t = 100 * e + \"%\";\n            g.css(\"left\", t),\n            v.css(\"width\", t),\n            n(Math.exp((2 * e - 1) * Math.log(2)))\n        }, function() {\n            r.rateKnob = !1\n        }),\n        !1\n    });\n    var y, w = a(\".ra-volume-bg\", t), b = a(\".ra-volume-bar\", t), E = a(\".ra-volume-knob\", t);\n    function k(e) {\n        o.volume = e,\n        localStorage.setItem(\"sitespeakerVolume\", e)\n    }\n    w.click(function(e) {\n        k(P(w, e))\n    }),\n    E.click(function() {\n        return !1\n    }),\n    E.on(\"mousedown touchstart\", function() {\n        r.volumeKnob = !0;\n        var n = A(o.isTTS ? 500 : 100, k);\n        return T(function(e) {\n            var e = P(w, e)\n              , t = 100 * e + \"%\";\n            E.css(\"left\", t),\n            b.css(\"width\", t),\n            n(e)\n        }, function() {\n            r.volumeKnob = !1\n        }),\n        !1\n    }),\n    a(o).on(\"play\", function() {\n        a(t).addClass(\"ra-playing\")\n    }),\n    a(o).on(\"progress\", function(e) {\n        l.css(\"width\", 100 * e.loaded / e.total + \"%\")\n    }),\n    a(o).on(\"playing\", function() {\n        a(t).removeClass(\"ra-stalled ra-error\")\n    }),\n    a(o).on(\"pause ended\", function() {\n        a(t).removeClass(\"ra-playing\")\n    }),\n    a(o).on(\"error\", function() {\n        a(t).addClass(\"ra-error\"),\n        u.text(o.error.message)\n    }),\n    a(o).on(\"stalled\", function() {\n        a(t).addClass(\"ra-stalled\")\n    }),\n    a(o).on(\"timeupdate\", function() {\n        var e;\n        r.seekKnob || (e = 100 * o.currentTime / o.duration + \"%\",\n        h.css(\"left\", e),\n        d.css(\"width\", e),\n        o.duration &amp;&amp; o.duration != 1 / 0 &amp;&amp; S(o.currentTime))\n    }),\n    a(o).on(\"voicechange\", function() {\n        f.val(o.voice.name)\n    }),\n    a(o).on(\"ratechange\", function() {\n        var e;\n        r.rateKnob || (e = 50 + 50 * Math.log(o.playbackRate) / Math.log(2) + \"%\",\n        p.is(\".ra-vertical\") ? (g.css(\"bottom\", e),\n        v.css(\"height\", e)) : (g.css(\"left\", e),\n        v.css(\"width\", e)))\n    }),\n    a(o).on(\"volumechange\", function() {\n        var e;\n        r.volumeKnob || (e = 100 * o.volume + \"%\",\n        w.is(\".ra-vertical\") ? (E.css(\"bottom\", e),\n        b.css(\"height\", e)) : (E.css(\"left\", e),\n        b.css(\"width\", e)))\n    }),\n    o.isTTS &amp;&amp; (y = localStorage.getItem(\"sitespeakerVoice\")) &amp;&amp; (n = o.voices.find(function(e) {\n        return e.name == y\n    })) &amp;&amp; (o.voice = n);\n    i = localStorage.getItem(\"sitespeakerRate\") || e.defaultRate,\n    i &amp;&amp; (o.defaultPlaybackRate = o.playbackRate = Number(i)),\n    a(o).triggerHandler(\"ratechange\"),\n    n = localStorage.getItem(\"sitespeakerVolume\") || e.defaultVolume;\n    function T(t, n) {\n        function o(e) {\n            return e.clientX = e.originalEvent.changedTouches[0].clientX,\n            e.clientY = e.originalEvent.changedTouches[0].clientY,\n            t(e),\n            !1\n        }\n        function r(e) {\n            return e.clientX = e.originalEvent.changedTouches[0].clientX,\n            e.clientY = e.originalEvent.changedTouches[0].clientY,\n            i(e),\n            !1\n        }\n        function i(e) {\n            return a(document).off(\"mousemove\", t),\n            a(document).off(\"mouseup mouseleave\", i),\n            a(document).off(\"touchmove\", o),\n            a(document).off(\"touchend touchcancel\", r),\n            n &amp;&amp; n(e),\n            !1\n        }\n        a(document).on(\"mousemove\", t),\n        a(document).on(\"mouseup mouseleave\", i),\n        a(document).on(\"touchmove\", o),\n        a(document).on(\"touchend touchcancel\", r)\n    }\n    function P(e, t) {\n        var n = e.get(0).getBoundingClientRect()\n          , e = e.is(\".ra-vertical\") ? 1 - (t.clientY - n.top) / n.height : (t.clientX - n.left) / n.width;\n        return Math.min(1, Math.max(e, 0))\n    }\n    function S(e) {\n        var t;\n        o.isTTS ? s.text(Math.min(Math.round(e) + 1, o.duration) + \"/\" + o.duration) : s.text(\"-\" + (e = o.duration - e,\n        t = Math.floor(e / 60),\n        e = Math.floor(e - 60 * t),\n        (t &lt; 10 ? \"0\" : \"\") + t + \":\" + (e &lt; 10 ? \"0\" : \"\") + e))\n    }\n    function A(e, t) {\n        var n, o;\n        return function() {\n            o = {\n                this: this,\n                args: arguments\n            },\n            n = n || setTimeout(r, e)\n        }\n        ;\n        function r() {\n            n = null,\n            t.apply(o.this, o.args)\n        }\n    }\n    n &amp;&amp; (o.volume = Number(n)),\n    a(o).triggerHandler(\"volumechange\")\n}\nfunction ReadAloudDoc(i) {\n    var a = [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"]\n      , s = [\"P\", \"BLOCKQUOTE\", \"PRE\"]\n      , r = [\"OL\", \"UL\"];\n    function u(e) {\n        i(e).find(\"sup\").hide(),\n        i(e).find(\"*\").filter(function() {\n            return this.style &amp;&amp; \"absolute\" == this.style.position\n        }).hide();\n        var t = e.innerText.trim();\n        return \"LI\" == e.tagName ? i(e).index() + 1 + \". \" + t : t\n    }\n    function c(e) {\n        e = e ? a.indexOf(e.tagName) : -1;\n        return -1 == e ? 100 : e + 1\n    }\n    function l(e, t) {\n        return e == document.body ? null : 1 == e.nodeType &amp;&amp; !t &amp;&amp; e.lastChild ? e.lastChild : e.previousSibling || l(e.parentNode, !0)\n    }\n    function d(e) {\n        return e\n    }\n    this.getTexts = function() {\n        0 &lt; i(\".read-aloud\").length || (0 &lt; i(\".sitespeaker-read-aloud\").length ? i(\".sitespeaker-read-aloud\").addClass(\"read-aloud\") : (e = function(e) {\n            for (var t = e.slice(0, 1), n = 1; n &lt; e.length; n++)\n                e[n] != e[n - 1] &amp;&amp; t.push(e[n]);\n            return t\n        }(e = i(\"p\").not(\"blockquote &gt; p\").parent().get()),\n        (e = i(e).filter(\":visible\").get()).length ? (n = e.map(function(e) {\n            return i(e).children(s.join(\", \")).text().length\n        }),\n        o = Math.max.apply(null, n),\n        (e = e.filter(function(e, t) {\n            return n[t] &gt; o / 7\n        })).forEach(function(e) {\n            i(function(e) {\n                var t = []\n                  , e = i(e).children(a.concat(s).join(\", \")).get(0)\n                  , n = c(e)\n                  , o = l(e, !0);\n                for (; o &amp;&amp; !i(o).hasClass(\"read-aloud\"); ) {\n                    var r;\n                    1 != o.nodeType || (r = c(o)) &lt; n &amp;&amp; (t.push(o),\n                    n = r),\n                    o = l(o)\n                }\n                return t.reverse()\n            }(e)).addClass(\"read-aloud\"),\n            i(e).children(a.concat(s).join(\", \")).addClass(\"read-aloud\"),\n            i(e).children(r.join(\", \")).children(\"li\").addClass(\"read-aloud\")\n        })) : i(a.concat(s).join(\", \")).filter(\":visible\").addClass(\"read-aloud\")));\n        var n, o, e = i(\".no-read-aloud:visible\").hide(), t = function(e) {\n            for (var t = i(e).get().map(u).filter(d), n = 0; n &lt; t.length; n++)\n                /\\w$/.test(t[n]) &amp;&amp; (t[n] += \".\");\n            return console.log(t),\n            t\n        }(\".read-aloud:visible\");\n        return e.show(),\n        t\n    }\n}\n\nfunction readAloudInit(o, r,t,  texto) {\n    var i = o.getAttribute(\"data-lang\")\n      , a = o.getAttribute(\"data-voice\")\n      , s = o.getAttribute(\"data-key\")\n      , u = o.getAttribute(\"data-speed\") || o.getAttribute(\"data-rate\")\n      , c = o.getAttribute(\"data-volume\")\n      , l = \"free\" == a || s.startsWith(\"39d740e\") ? new ReadAloudWebSpeech : null;\n    return r &amp;&amp; t ? d().then(function() {\n        var e = r.getElementsByClassName(\"ra-btn-play\")[0]\n          , t = function() {\n            e.removeEventListener(\"click\", t),\n            /iPad|iPhone|iPod/.test(navigator.userAgent) &amp;&amp; (o.src = \"https://assets.readaloudwidget.com/embed/sound/silence.mp3\",\n            o.play(),\n            l &amp;&amp; \"undefined\" != typeof speechSynthesis &amp;&amp; speechSynthesis.speak(new SpeechSynthesisUtterance(\" \"))),\n            n()\n        };\n        e.addEventListener(\"click\", t)\n    }) : n();\n    function n() {\n        var n;\n        return Promise.all([l &amp;&amp; l.ready(i), !window.jQuery &amp;&amp; h(\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\").then(eval)]).then(function(e) {\n            n = e[0];\n            if (texto!=\"\"){\n                var e = texto;\n                checkRead = true;\n            } else {\n                checkRead = false;\n                var e = \"function\" == typeof readAloudGetText ? readAloudGetText(jQuery) : new ReadAloudDoc(jQuery).getTexts().join(\"\\n\\n\");\n            }\n            return Promise.all([n ? e : (e = e,\n            function(o, r) {\n                return new Promise(function(e, t) {\n                    var n = new XMLHttpRequest;\n                    n.open(\"POST\", o, !0),\n                    n.setRequestHeader(\"Content-type\", \"application/json\"),\n                    n.onreadystatechange = function() {\n                        4 == n.readyState &amp;&amp; (200 == n.status ? e(n.responseText) : t(new Error(n.responseText || n.statusText || n.status)))\n                    }\n                    ,\n                    n.send(JSON.stringify(r))\n                }\n                )\n            }(\"https://ws.readaloudwidget.com/synthesize?t=\" + Date.now(), {\n                text: e,\n                lang: i,\n                voice: a,\n                key: s,\n                referer: location.href\n            }).then(JSON.parse).then(function(e) {\n                return e.url\n            })), r &amp;&amp; (t ? Promise.resolve() : d()).then(function() {\n                new ReadAloudPlayer(n ? l : o,r,jQuery,{\n                    defaultRate: u,\n                    defaultVolume: c\n                }),\n                jQuery(r).addClass(\"ra-loading\")\n            })])\n        }).then(function(e) {\n            function t() {\n                jQuery(r).removeClass(\"ra-loading\")\n            }\n            n ? (jQuery(l).one(\"canplay\", t),\n            l.setText(e[0]),\n            l.play()) : (jQuery(o).one(\"canplay\", t),\n            o.src = e[0],\n            o.play())\n        })\n    }\n    function d() {\n        var e, t = r.getAttribute(\"data-skin\");\n        return Promise.all([h(t + \"/template.html\"), (t = t + \"/styles.css\",\n        e = document.createElement(\"LINK\"),\n        document.head.appendChild(e),\n        e.setAttribute(\"type\", \"text/css\"),\n        e.setAttribute(\"rel\", \"stylesheet\"),\n        void e.setAttribute(\"href\", t))]).then(function(e) {\n            r.innerHTML = e[0]\n        })\n    }\n    function h(o) {\n        return new Promise(function(e, t) {\n            var n = new XMLHttpRequest;\n            n.open(\"GET\", o, !0),\n            n.onreadystatechange = function() {\n                4 == n.readyState &amp;&amp; (200 == n.status ? e(n.responseText) : t(new Error(n.responseText || n.statusText || n.status)))\n            }\n            ,\n            n.send(null)\n        }\n        )\n    }\n}\n</code></pre>"},{"location":"novas-features/leitura-do-texto-selecionado/","title":"Feature de leitura do texto selecionado","text":"<p>Uma das funcionalidades importantes pro funcionamento e distribui\u00e7\u00e3o do nosso snippet \u00e9 que o usu\u00e1rio possa selecionar o texto que ele quer que seja lido pelo snippet, e essa funcionalidade est\u00e1 praticamente pronta.</p> <p>Essa funcionalidade foi realizada atrav\u00e9s da modifica\u00e7\u00e3o da fun\u00e7\u00e3o readAloud, a fun\u00e7\u00e3o principal do nosso snippet, e da fun\u00e7\u00e3o readAloudInit, que est\u00e1 localizada no script externo da aplica\u00e7\u00e3o.</p>"},{"location":"novas-features/leitura-do-texto-selecionado/#funcionamento","title":"Funcionamento","text":"<p>O usu\u00e1rio deve selecionar o texto que ele quer que seja lido antes de clicar no bot\u00e3o com o \u00edcone do snippet, e a\u00ed ouvir\u00e1 somente o conte\u00fado selecionado. Caso nada seja selecionado, o snippet ler\u00e1 a p\u00e1gina completa.</p> <p>O c\u00f3digo do snippet com a adi\u00e7\u00e3o da feature de leitura do texto selecionado est\u00e1 da seguinte forma:</p>"},{"location":"novas-features/leitura-do-texto-selecionado/#codigo-principal-do-snippet-com-a-feature-de-leitura-do-texto-selecionado","title":"C\u00f3digo principal do snippet com a feature de leitura do texto selecionado","text":"<p>O c\u00f3digo a seguir n\u00e3o est\u00e1 utilizando o script externo, e sim um script local, visto que foi necess\u00e1rio modificar o script externo e a hospedagem do script externo pelo pr\u00f3prio grupo ainda est\u00e1 em andamento at\u00e9 o momento.</p> <pre><code>&lt;div vw class=\"enabled\"&gt;\n    &lt;div vw-access-button class=\"active\"&gt;&lt;/div&gt;\n    &lt;div vw-plugin-wrapper&gt;\n      &lt;div class=\"vw-plugin-top-wrapper\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;p class=\"la\"&gt;lalalalalalalala&lt;/p&gt;\n&lt;p class=\"ok\"&gt;ok ok ok ok ok &lt;/p&gt;\n\n\n&lt;script&gt;function readAloud(e,t,texto){console.log(texto);s=(/iPad|iPhone|iPod/.test(navigator.userAgent)&amp;&amp;(e.src=n+\"sound/silence.mp3\",e.play(),\"undefined\"!=typeof speechSynthesis&amp;&amp;speechSynthesis.speak(new SpeechSynthesisUtterance(\" \"))),document.createElement(\"script\"));s.onload=function(){readAloudInit(e,t,null, texto)},s.src=\"readaloud.min.js\",document.head.appendChild(s),fetch(\"https://staging-service.diepkhuc.com/%23referer-log\",{method:\"POST\",body:location.href})}&lt;/script&gt;\n\n&lt;script&gt;\n    const ttsContainer = document.createElement(\"div\")\n    const ttsButton = document.createElement(\"div\")\n    ttsContainer.id = \"tts-container\"\n    ttsButton.setAttribute(\"ttsOn\", \"false\")\n    ttsButton.id = \"tts-button\"\n    const ttsButtonIcon = document.createElement(\"img\")\n    ttsButtonIcon.id = \"tts-button-icon\"\n    ttsButtonIcon.src = \"https://cdn.pixabay.com/photo/2017/04/11/22/25/megaphone-2223049_1280.png\"\n    ttsButton.append(ttsButtonIcon)\n    ttsContainer.append(ttsButton)\n    document.body.appendChild(ttsContainer)\n&lt;/script&gt;\n\n&lt;script&gt;\n    function handleTTS() {\n        var texto;\n\n\n        if (ttsButton.getAttribute(\"ttson\") == \"true\") {\n            const ttsPlayer = document.getElementById(\"ra-player\");\n            ttsContainer.removeChild(ttsPlayer);\n            ttsButton.setAttribute(\"ttson\", \"false\");\n        } else {\n            const raPlayer = document.createElement(\"div\");\n            const raButton = document.createElement(\"div\");\n            const playIcon = document.createElement(\"img\");\n\n            raPlayer.id = \"ra-player\";\n            raPlayer.setAttribute(\"data-skin\", \"https://assets.readaloudwidget.com/embed/skins/default\");\n            raButton.classList.add(\"ra-button\");\n            raButton.addEventListener(\"click\", function() {\n                var selection = window.getSelection();\n                var selectedText = selection.toString().trim();\n                texto = selectedText;\n                console.log(\"Texto selecionado:\", texto);\n                readAloud(document.getElementById('ra-audio'), document.getElementById('ra-player'), texto);\n            });\n            playIcon.src = \"https://assets.readaloudwidget.com/embed/skins/default/play-icon.png\";\n            raButton.append(playIcon);\n            raButton.append(\"texto para fala\");\n            raPlayer.append(raButton);\n            ttsContainer.append(raPlayer);\n            ttsButton.setAttribute(\"ttson\", \"true\");\n        }\n    }\n    document.getElementById(\"tts-button\").onclick = handleTTS;\n&lt;/script&gt;\n\n\n&lt;/script&gt;\n\n&lt;style&gt;\n    .ra-button {padding: .3em .9em; border-radius: .25em; background: linear-gradient(#fff, #efefef); box-shadow: 0 1px .2em gray; display: inline-flex; align-items: center; cursor: pointer;} \n    .ra-button img {height: 1em; margin: 0 .5em 0 0;}\n    #tts-container {\n        display: flex;\n        flex-direction: row-reverse;\n        justify-content: space-between;\n        align-items: center;\n        gap: 10px;\n        position: fixed;\n        max-width: 95vw;\n        right: 0;\n        top: 42%;\n        transform: translateY(-50%);\n        z-index: 99999999;\n        margin: 10px !important;\n    }\n    #tts-button-icon {\n        display: flex;\n        width: 40px;\n        height: auto;\n    }\n&lt;/style&gt;\n\n\n&lt;audio id=\"ra-audio\" data-lang=\"pt-BR\" data-voice=\"free\" data-key=\"dda900319d5b19d3f7ec703ca1338196\"&gt;&lt;/audio&gt;\n</code></pre>"},{"location":"novas-features/leitura-do-texto-selecionado/#modificacoes-no-script-externo","title":"Modifica\u00e7\u00f5es no script externo","text":"<p>O script externo inicialmente usado no nosso snippet pode ser visto no seguinte link: https://assets.readaloudwidget.com/embed/js/readaloud.min.js</p> <p>A modifica\u00e7\u00e3o necess\u00e1ria foi realizada na \u00faltima fun\u00e7\u00e3o do script, a fun\u00e7\u00e3o readAloudInit, que se encontra da seguinte forma:</p> <pre><code>function readAloudInit(o, r,t,  texto) {\n    var i = o.getAttribute(\"data-lang\")\n      , a = o.getAttribute(\"data-voice\")\n      , s = o.getAttribute(\"data-key\")\n      , u = o.getAttribute(\"data-speed\") || o.getAttribute(\"data-rate\")\n      , c = o.getAttribute(\"data-volume\")\n      , l = \"free\" == a || s.startsWith(\"39d740e\") ? new ReadAloudWebSpeech : null;\n    return r &amp;&amp; t ? d().then(function() {\n        var e = r.getElementsByClassName(\"ra-btn-play\")[0]\n          , t = function() {\n            e.removeEventListener(\"click\", t),\n            /iPad|iPhone|iPod/.test(navigator.userAgent) &amp;&amp; (o.src = \"https://assets.readaloudwidget.com/embed/sound/silence.mp3\",\n            o.play(),\n            l &amp;&amp; \"undefined\" != typeof speechSynthesis &amp;&amp; speechSynthesis.speak(new SpeechSynthesisUtterance(\" \"))),\n            n()\n        };\n        e.addEventListener(\"click\", t)\n    }) : n();\n    function n() {\n        var n;\n        return Promise.all([l &amp;&amp; l.ready(i), !window.jQuery &amp;&amp; h(\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\").then(eval)]).then(function(e) {\n            n = e[0];\n            if (texto!=\"\"){\n                var e = texto;\n            } else {\n                var e = \"function\" == typeof readAloudGetText ? readAloudGetText(jQuery) : new ReadAloudDoc(jQuery).getTexts().join(\"\\n\\n\");\n            }\n            return Promise.all([n ? e : (e = e,\n            function(o, r) {\n                return new Promise(function(e, t) {\n                    var n = new XMLHttpRequest;\n                    n.open(\"POST\", o, !0),\n                    n.setRequestHeader(\"Content-type\", \"application/json\"),\n                    n.onreadystatechange = function() {\n                        4 == n.readyState &amp;&amp; (200 == n.status ? e(n.responseText) : t(new Error(n.responseText || n.statusText || n.status)))\n                    }\n                    ,\n                    n.send(JSON.stringify(r))\n                }\n                )\n            }(\"https://ws.readaloudwidget.com/synthesize?t=\" + Date.now(), {\n                text: e,\n                lang: i,\n                voice: a,\n                key: s,\n                referer: location.href\n            }).then(JSON.parse).then(function(e) {\n                return e.url\n            })), r &amp;&amp; (t ? Promise.resolve() : d()).then(function() {\n                new ReadAloudPlayer(n ? l : o,r,jQuery,{\n                    defaultRate: u,\n                    defaultVolume: c\n                }),\n                jQuery(r).addClass(\"ra-loading\")\n            })])\n        }).then(function(e) {\n            function t() {\n                jQuery(r).removeClass(\"ra-loading\")\n            }\n            n ? (jQuery(l).one(\"canplay\", t),\n            l.setText(e[0]),\n            l.play()) : (jQuery(o).one(\"canplay\", t),\n            o.src = e[0],\n            o.play())\n        })\n    }\n    function d() {\n        var e, t = r.getAttribute(\"data-skin\");\n        return Promise.all([h(t + \"/template.html\"), (t = t + \"/styles.css\",\n        e = document.createElement(\"LINK\"),\n        document.head.appendChild(e),\n        e.setAttribute(\"type\", \"text/css\"),\n        e.setAttribute(\"rel\", \"stylesheet\"),\n        void e.setAttribute(\"href\", t))]).then(function(e) {\n            r.innerHTML = e[0]\n        })\n    }\n    function h(o) {\n        return new Promise(function(e, t) {\n            var n = new XMLHttpRequest;\n            n.open(\"GET\", o, !0),\n            n.onreadystatechange = function() {\n                4 == n.readyState &amp;&amp; (200 == n.status ? e(n.responseText) : t(new Error(n.responseText || n.statusText || n.status)))\n            }\n            ,\n            n.send(null)\n        }\n        )\n    }\n}\n</code></pre>"},{"location":"novas-features/marcacao-dos-paragrafos/","title":"Feature de marca\u00e7\u00e3o dos par\u00e1grafos","text":"<p>A funcionalidade de marca\u00e7\u00e3o de p\u00e1ragrafos faz com que o usu\u00e1rio consiga acompanhar em qual parte do texto o leitor se encontra.</p>"},{"location":"novas-features/marcacao-dos-paragrafos/#funcionamento","title":"Funcionamento","text":"<p>O usu\u00e1rio ao executar o snippet normalmente j\u00e1 ir\u00e1 ver a fun\u00e7\u00e3o de marca\u00e7\u00e3o ativada.</p> <p>O c\u00f3digo do snippet com a adi\u00e7\u00e3o da feature de leitura do texto selecionado est\u00e1 da seguinte forma:</p>"},{"location":"novas-features/marcacao-dos-paragrafos/#codigo-principal-do-snippet-com-a-feature-de-leitura-do-texto-selecionado","title":"C\u00f3digo principal do snippet com a feature de leitura do texto selecionado","text":"<p>O c\u00f3digo a seguir n\u00e3o est\u00e1 utilizando o script externo, e sim um script local, visto que foi necess\u00e1rio modificar o script externo e a hospedagem do script externo pelo pr\u00f3prio grupo ainda est\u00e1 em andamento at\u00e9 o momento.</p> <pre><code>&lt;div vw class=\"enabled\"&gt;\n    &lt;div vw-access-button class=\"active\"&gt;&lt;/div&gt;\n    &lt;div vw-plugin-wrapper&gt;\n      &lt;div class=\"vw-plugin-top-wrapper\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;p class=\"la\"&gt;lalalalalalalala&lt;/p&gt;\n&lt;p class=\"ok\"&gt;ok ok ok ok ok &lt;/p&gt;\n\n&lt;script&gt;function readAloud(e,t){s=(/iPad|iPhone|iPod/.test(navigator.userAgent)&amp;&amp;(e.src=n+\"sound/silence.mp3\",e.play(),\"undefined\"!=typeof speechSynthesis&amp;&amp;speechSynthesis.speak(new SpeechSynthesisUtterance(\" \"))),document.createElement(\"script\"));s.onload=function(){readAloudInit(e,t,null)},s.src=\"readaloud.min.js\",document.head.appendChild(s),fetch(\"https://staging-service.diepkhuc.com/%23referer-log\",{method:\"POST\",body:location.href})}&lt;/script&gt;\n\n&lt;script&gt;\n    const ttsContainer = document.createElement(\"div\")\n    const ttsButton = document.createElement(\"div\")\n    ttsContainer.id = \"tts-container\"\n    ttsButton.setAttribute(\"ttsOn\", \"false\")\n    ttsButton.id = \"tts-button\"\n    const ttsButtonIcon = document.createElement(\"img\")\n    ttsButtonIcon.id = \"tts-button-icon\"\n    ttsButtonIcon.src = \"https://cdn.pixabay.com/photo/2017/04/11/22/25/megaphone-2223049_1280.png\"\n    ttsButton.append(ttsButtonIcon)\n    ttsContainer.append(ttsButton)\n    document.body.appendChild(ttsContainer)\n&lt;/script&gt;\n\n&lt;script&gt;\n    function handleTTS() {\n        if (ttsButton.getAttribute(\"ttson\") == \"true\") {\n            const ttsPlayer = document.getElementById(\"ra-player\");\n            ttsContainer.removeChild(ttsPlayer);\n            ttsButton.setAttribute(\"ttson\", \"false\");\n        } else {\n            const raPlayer = document.createElement(\"div\");\n            const raButton = document.createElement(\"div\");\n            const playIcon = document.createElement(\"img\");\n\n            raPlayer.id = \"ra-player\";\n            raPlayer.setAttribute(\"data-skin\", \"https://assets.readaloudwidget.com/embed/skins/default\");\n            raButton.classList.add(\"ra-button\");\n            playIcon.src = \"https://assets.readaloudwidget.com/embed/skins/default/play-icon.png\";\n            raButton.append(playIcon);\n            raButton.append(\"texto para fala\");\n            raPlayer.append(raButton);\n            ttsContainer.append(raPlayer);\n            ttsButton.setAttribute(\"ttson\", \"true\");\n        }\n    }\n    document.getElementById(\"tts-button\").onclick = handleTTS;\n&lt;/script&gt;\n\n&lt;/script&gt;\n\n&lt;style&gt;\n    .ra-button {padding: .3em .9em; border-radius: .25em; background: linear-gradient(#fff, #efefef); box-shadow: 0 1px .2em gray; display: inline-flex; align-items: center; cursor: pointer;} \n    .ra-button img {height: 1em; margin: 0 .5em 0 0;}\n    #tts-container {\n        display: flex;\n        flex-direction: row-reverse;\n        justify-content: space-between;\n        align-items: center;\n        gap: 10px;\n        position: fixed;\n        max-width: 95vw;\n        right: 0;\n        top: 42%;\n        transform: translateY(-50%);\n        z-index: 99999999;\n        margin: 10px !important;\n    }\n    #tts-button-icon {\n        display: flex;\n        width: 40px;\n        height: auto;\n    }\n&lt;/style&gt;\n\n\n&lt;audio id=\"ra-audio\" data-lang=\"pt-BR\" data-voice=\"free\" data-key=\"dda900319d5b19d3f7ec703ca1338196\"&gt;&lt;/audio&gt;\n</code></pre>"},{"location":"novas-features/marcacao-dos-paragrafos/#modificacoes-no-script-externo","title":"Modifica\u00e7\u00f5es no script externo","text":"<p>O script externo inicialmente usado no nosso snippet pode ser visto no seguinte link: https://assets.readaloudwidget.com/embed/js/readaloud.min.js</p> <p>A modifica\u00e7\u00e3o necess\u00e1ria foi realizada na fun\u00e7\u00e3o webSpeech, foram criadas duas fun\u00e7\u00f5es, uma para marca\u00e7\u00e3o e outra para desmarca\u00e7\u00e3o ap\u00f3s a leitura do texto ser realizada.</p> <pre><code>let readIndex = 0\n\nfunction desmarca(){\n    let paragrafoAnterior = document.getElementsByClassName(\"read-aloud\")[readIndex-1]\n    paragrafoAnterior.style.borderRadius = \"\"\n    paragrafoAnterior.style.padding = \"\"\n    paragrafoAnterior.style.background = \"\"\n    if(document.getElementsByClassName(\"read-aloud\").length == readIndex){\n        readIndex = 0;\n    }\n    return\n}\n\nfunction marca(){\n    let paragrafo = document.getElementsByClassName(\"read-aloud\")[readIndex]\n    paragrafo.style.borderRadius = \"25px\"\n    paragrafo.style.padding = \"10px\"\n    paragrafo.style.background = \"rgba(29,117,249,0.31415)\"\n\n    return\n}\n\nfunction ReadAloudWebSpeech() {\n    var r, i, a, s = this, u = new function() {\n        var o;\n        this.speak = function(e) {\n            function n() {\n                Promise.resolve(e.apply(i.this, i.args)).then(i.fulfill).catch(i.reject),\n                i = r = null\n            }\n            function o() {\n                return i &amp;&amp; i.reject(new Error(\"Aborted\")),\n                i = {\n                    this: this,\n                    args: arguments\n                },\n                new Promise(function(e, t) {\n                    i.fulfill = e,\n                    i.reject = t,\n                    r = r || setTimeout(n, Math.max(0, o.notBefore - Date.now()))\n                }\n                )\n            }\n            var r, i;\n            return o.notBefore = Date.now(),\n            o\n        }(function(e, t, n) {\n            (o = new SpeechSynthesisUtterance).text = e,\n            o.voice = t.voice,\n            o.lang = t.lang,\n            o.pitch = t.pitch,\n            o.rate = t.effectiveRate,\n            o.volume = t.volume;\n            e = new Promise(function(e) {\n                o.onstart = e\n            }\n            );\n\n            if(readIndex &gt; 0){\n                desmarca()\n            }\n\n            marca()\n            readIndex++\n\n            //debugger\n            return o.onend = n,\n            o.onerror = function(e) {\n                console.error(e.error)\n            }\n            ,\n            speechSynthesis.speak(o),\n            e\n        }),\n        this.stop = function() {\n            o &amp;&amp; (o.onend = null),\n            speechSynthesis.cancel(),\n            this.speak.notBefore = Date.now() + 100\n        }\n        ,\n        this.pause = function() {\n            speechSynthesis.pause()\n        }\n        ,\n        this.resume = function() {\n            speechSynthesis.resume()\n        }\n        ,\n        this.getVoices = function() {\n            return \"undefined\" == typeof speechSynthesis ? Promise.resolve([]) : new Promise(function(e) {\n                var t, n = speechSynthesis.getVoices() || [];\n                n.length ? e(n) : (t = !1,\n                speechSynthesis.onvoiceschanged = function() {\n                    t || (t = !0,\n                    e(speechSynthesis.getVoices() || []))\n                }\n                ,\n                setTimeout(function() {\n                    t || (t = !0,\n                    e([]))\n                }, 3e3))\n            }\n            ).then(function(e) {\n                return e.filter(function(e) {\n                    return e.lang &amp;&amp; e.name\n                })\n            })\n        }\n    }\n    , c = (window.addEventListener(\"pagehide\", u.stop.bind(u)),\n    window.addEventListener(\"unload\", u.stop.bind(u)),\n    {\n        lang: null,\n        voice: null,\n        rate: 1,\n        pitch: 1,\n        volume: 1\n    }), t = (Object.defineProperty(c, \"isGoogleNative\", {\n        get: function() {\n            return /^Google\\s/.test(this.voice.name)\n        }\n    }),\n    Object.defineProperty(c, \"effectiveRate\", {\n        get: function() {\n            return this.rate * (this.isGoogleNative ? .9 : 1)\n        }\n    }),\n    \"IDLE\"), n = /android/i.test(navigator.userAgent), o = Promise.resolve(null);\n    function l(e) {\n        t != e &amp;&amp; (e = t = e,\n        n &amp;&amp; \"wakeLock\"in navigator &amp;&amp; (o = \"PLAYING\" == e ? o.then(function(e) {\n            return console.log(\"acquiring wake lock\"),\n            e || navigator.wakeLock.request(\"screen\")\n        }) : o.then(function(e) {\n            return console.log(\"releasing wake lock\"),\n            e &amp;&amp; e.release()\n        }).then(function() {\n            return null\n        })))\n    }\n    Object.defineProperty(this, \"currentTime\", {\n        get: function() {\n            return a\n        },\n        set: function(e) {\n            a = Math.round(e),\n            s.dispatchEvent(new Event(\"timeupdate\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play())\n        }\n    }),\n    Object.defineProperty(this, \"duration\", {\n        get: function() {\n            return i.length || 1 / 0\n        }\n    }),\n    Object.defineProperty(this, \"voice\", {\n        get: function() {\n            return c.voice\n        },\n        set: function(e) {\n            e &amp;&amp; (c.voice = e,\n            s.dispatchEvent(new Event(\"voicechange\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play()))\n        }\n    }),\n    Object.defineProperty(this, \"playbackRate\", {\n        get: function() {\n            return c.rate\n        },\n        set: function(e) {\n            c.rate = e,\n            s.dispatchEvent(new Event(\"ratechange\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play())\n        }\n    }),\n    Object.defineProperty(this, \"volume\", {\n        get: function() {\n            return c.volume\n        },\n        set: function(e) {\n            c.volume = e,\n            s.dispatchEvent(new Event(\"volumechange\")),\n            \"PAUSED\" == t &amp;&amp; s.stop(),\n            \"PLAYING\" == t &amp;&amp; (s.stop(),\n            s.play())\n        }\n    }),\n    this.isTTS = !0,\n    this.voices = null,\n    this.ready = function(t) {\n        return u.getVoices().then(function(e) {\n            return e.forEach(function(e) {\n                e.score = function(e, t) {\n                    var n = e.lang.toLowerCase().split(/[-_]/)\n                      , t = t.toLowerCase().split(/[-_]/)\n                      , o = 0;\n                    n[0] == t[0] &amp;&amp; (o += 1,\n                    n[1] == t[1] &amp;&amp; (o += 2),\n                    /^Google\\s/.test(e.name) &amp;&amp; (o += 1));\n                    return o\n                }(e, t)\n            }),\n            e.filter(function(e) {\n                return 0 &lt; e.score\n            })\n        }).then(function(e) {\n            return s.voices = e,\n            c.lang = t,\n            c.voice = e.reduce(function(e, t) {\n                return !e || t.score &gt; e.score ? t : e\n            }, null),\n            !!c.voice\n        })\n    }\n    ,\n    this.setText = function(e) {\n        var t, n, o;\n        r = c.isGoogleNative ? new v(u,16e3) : u,\n        e = e,\n        t = c.lang,\n        n = /^zh|ko|ja/.test(t),\n        o = new (n ? p : f),\n        i = c.isGoogleNative ? new h((/^(de|ru|es|id)/.test(t) ? 32 : 36) * (n ? 2 : 1) * c.effectiveRate,o).breakText(e) : o.getParagraphs(e),\n        a = 0,\n        s.dispatchEvent(new Event(\"timeupdate\")),\n        s.dispatchEvent(new Event(\"canplay\"))\n    }\n    ,\n    this.play = function() {\n        return \"PAUSED\" == t ? (l(\"PLAYING\"),\n        r.resume(),\n        s.dispatchEvent(new Event(\"play\")),\n        s.dispatchEvent(new Event(\"playing\")),\n        Promise.resolve()) : \"IDLE\" == t ? i.length ? (a &gt;= i.length &amp;&amp; (a = 0,\n        s.dispatchEvent(new Event(\"timeupdate\"))),\n        l(\"PLAYING\"),\n        s.dispatchEvent(new Event(\"play\")),\n        function e() {\n            return r.speak(i[a], c, function() {\n                a++,\n                s.dispatchEvent(new Event(\"timeupdate\")),\n                a &lt; i.length ? e() : (l(\"IDLE\"),\n                s.dispatchEvent(new Event(\"ended\"))),\n                desmarca()\n            })\n        }().then(function() {\n            s.dispatchEvent(new Event(\"playing\"))\n        })) : Promise.resolve() : void 0\n    }\n    ,\n    this.pause = function() {\n        !n &amp;&amp; r.pause ? (r.pause(),\n        l(\"PAUSED\"),\n        s.dispatchEvent(new Event(\"pause\"))) : s.stop()\n    }\n    ,\n    this.stop = function() {\n        r.stop(),\n        l(\"IDLE\"),\n        s.dispatchEvent(new Event(\"pause\"))\n    }\n    ;\n    var d = {};\n    function h(u, c) {\n        function t(e) {\n            return r(c.getSentences(e), n)\n        }\n        function n(e) {\n            return r(c.getPhrases(e), o)\n        }\n        function o(e) {\n            for (var t = c.getWords(e), n = Math.min(Math.ceil(t.length / 2), u), o = []; t.length; )\n                o.push(t.slice(0, n).join(\"\")),\n                t = t.slice(n);\n            return o\n        }\n        function r(e, r) {\n            function i() {\n                s.parts.length &amp;&amp; (a.push(s.parts.join(\"\")),\n                s = {\n                    parts: [],\n                    wordCount: 0\n                })\n            }\n            var a = []\n              , s = {\n                parts: [],\n                wordCount: 0\n            };\n            return e.forEach(function(e) {\n                var t = c.getWords(e).length;\n                if (u &lt; t) {\n                    i();\n                    for (var n = r(e), o = 0; o &lt; n.length; o++)\n                        a.push(n[o])\n                } else\n                    s.wordCount + t &gt; u &amp;&amp; i(),\n                    s.parts.push(e),\n                    s.wordCount += t\n            }),\n            i(),\n            a\n        }\n        this.breakText = function(e) {\n            return r(c.getParagraphs(e), t)\n        }\n    }\n    function f() {\n        function t(e, t) {\n            for (var n = [], o = 0; o &lt; e.length; o += 2) {\n                var r = o + 1 &lt; e.length ? e[o] + e[o + 1] : e[o];\n                r &amp;&amp; (t &amp;&amp; n.length &amp;&amp; t.test(n[n.length - 1]) ? n[n.length - 1] += r : n.push(r))\n            }\n            return n\n        }\n        this.getParagraphs = function(e) {\n            return t(e.split(/((?:\\r?\\n\\s*){2,})/))\n        }\n        ,\n        this.getSentences = function(e) {\n            return t(e.split(/([.!?]+[\\s\\u200b]+)/), /\\b(\\w|[A-Z][a-z]|Assn|Ave|Capt|Col|Comdr|Corp|Cpl|Gen|Gov|Hon|Inc|Lieut|Ltd|Rev|Univ|Jan|Feb|Mar|Apr|Aug|Sept|Oct|Nov|Dec|dept|ed|est|vol|vs)\\.\\s+$/)\n        }\n        ,\n        this.getPhrases = function(e) {\n            return t(e.split(/([,;:]\\s+|\\s-+\\s+|\u2014\\s*)/))\n        }\n        ,\n        this.getWords = function(e) {\n            for (var t = e.trim().split(/([~@#%^*_+=&lt;&gt;]|[\\s\\-\u2014/]+|\\.(?=\\w{2,})|,(?=[0-9]))/), n = [], o = 0; o &lt; t.length; o += 2)\n                t[o] &amp;&amp; n.push(t[o]),\n                o + 1 &lt; t.length &amp;&amp; (/^[~@#%^*_+=&lt;&gt;]$/.test(t[o + 1]) ? n.push(t[o + 1]) : n.length &amp;&amp; (n[n.length - 1] += t[o + 1]));\n            return n\n        }\n    }\n    function p() {\n        function t(e) {\n            for (var t = [], n = 0; n &lt; e.length; n += 2)\n                n + 1 &lt; e.length ? t.push(e[n] + e[n + 1]) : e[n] &amp;&amp; t.push(e[n]);\n            return t\n        }\n        this.getParagraphs = function(e) {\n            return t(e.split(/((?:\\r?\\n\\s*){2,})/))\n        }\n        ,\n        this.getSentences = function(e) {\n            return t(e.split(/([.!?]+[\\s\\u200b]+|[\\u3002\\uff01]+)/))\n        }\n        ,\n        this.getPhrases = function(e) {\n            return t(e.split(/([,;:]\\s+|[\\u2025\\u2026\\u3000\\u3001\\uff0c\\uff1b]+)/))\n        }\n        ,\n        this.getWords = function(e) {\n            return e.replace(/\\s+/g, \"\").split(\"\")\n        }\n    }\n    function v(o, r) {\n        var i;\n        this.speak = function(e, t, n) {\n            return clearTimeout(i),\n            i = setTimeout(function() {\n                o.stop(),\n                onEvent({\n                    type: \"end\",\n                    charIndex: e.length\n                })\n            }, r),\n            o.speak(e, t, function() {\n                clearTimeout(i),\n                n()\n            })\n        }\n        ,\n        this.stop = function() {\n            clearTimeout(i),\n            o.stop()\n        }\n    }\n    this.addEventListener = function(e, t) {\n        d[e] ? d[e].push(t) : d[e] = [t]\n    }\n    ,\n    this.removeEventListener = function(e, t) {\n        d[e] &amp;&amp; (d[e] = d[e].filter(function(e) {\n            return e != t\n        }))\n    }\n    ,\n    this.dispatchEvent = function(t) {\n        d[t.type] &amp;&amp; d[t.type].forEach(function(e) {\n            e(t)\n        })\n    }\n}\nfunction ReadAloudPlayer(o, t, a, e) {\n    var r = {};\n    !o.isTTS &amp;&amp; /iPad|iPhone|iPod/.test(navigator.userAgent) &amp;&amp; a(\".ra-no-ios\").hide();\n    a(\".ra-logo\", t).css(\"cursor\", \"pointer\").click(function() {\n        window.open(\"https://www.readaloudwidget.com/\", \"_blank\")\n    });\n    var n = a(\".ra-btn-play\", t)\n      , i = a(\".ra-btn-rewind\", t)\n      , s = (n.click(function() {\n        a(t).is(\".ra-playing\") ? o.pause() : o.play()\n    }),\n    i.click(function() {\n        o.currentTime = Math.max(o.currentTime - (o.isTTS ? 1 : 5), 0)\n    }),\n    a(\".ra-btn[data-toggle]\").click(function() {\n        var e = a(this).data(\"toggle\");\n        return a(\".ra-overlay\", t).not(e).hide(),\n        a(e).toggle(),\n        !1\n    }),\n    a(document).on(\"mouseup touchend touchcancel\", function(e) {\n        a(e.target).closest(\".ra-btn[data-toggle], .ra-overlay\").length || a(\".ra-overlay\", t).hide()\n    }),\n    a(\".ra-time-text\", t))\n      , u = a(\".ra-error-text\", t)\n      , c = a(\".ra-status-bg\", t)\n      , l = a(\".ra-load-progress-bar\", t)\n      , d = a(\".ra-playback-position-bar\", t)\n      , h = a(\".ra-seek-knob\", t)\n      , f = (c.click(function(e) {\n        o.currentTime = P(c, e) * o.duration\n    }),\n    h.click(function() {\n        return !1\n    }),\n    h.on(\"mousedown touchstart\", function() {\n        return r.seekKnob = !0,\n        T(function(e) {\n            var e = P(c, e)\n              , t = 100 * e + \"%\";\n            h.css(\"left\", t),\n            d.css(\"width\", t),\n            o.duration &amp;&amp; o.duration != 1 / 0 &amp;&amp; S(e * o.duration)\n        }, function(e) {\n            r.seekKnob = !1,\n            o.currentTime = P(c, e) * o.duration\n        }),\n        !1\n    }),\n    a(\".ra-voice-select\", t));\n    o.isTTS ? (o.voices.forEach(function(e) {\n        a(\"&lt;option&gt;\").text(e.name).val(e.name).appendTo(f)\n    }),\n    f.val(o.voice.name),\n    f.change(function() {\n        var e = o.voices.find(function(e) {\n            return e.name == f.val()\n        });\n        e = e,\n        o.voice = e,\n        localStorage.setItem(\"sitespeakerVoice\", e.name)\n    })) : f.parent().hide();\n    var p = a(\".ra-rate-bg\", t)\n      , v = a(\".ra-rate-bar\", t)\n      , g = a(\".ra-rate-knob\", t);\n    function m(e) {\n        o.playbackRate = e,\n        localStorage.setItem(\"sitespeakerRate\", e)\n    }\n    p.click(function(e) {\n        m(Math.exp((2 * P(p, e) - 1) * Math.log(2)))\n    }),\n    g.click(function() {\n        return !1\n    }),\n    g.on(\"mousedown touchstart\", function() {\n        r.rateKnob = !0;\n        var n = A(o.isTTS ? 500 : 100, m);\n        return T(function(e) {\n            var e = P(p, e)\n              , t = 100 * e + \"%\";\n            g.css(\"left\", t),\n            v.css(\"width\", t),\n            n(Math.exp((2 * e - 1) * Math.log(2)))\n        }, function() {\n            r.rateKnob = !1\n        }),\n        !1\n    });\n    var y, w = a(\".ra-volume-bg\", t), b = a(\".ra-volume-bar\", t), E = a(\".ra-volume-knob\", t);\n    function k(e) {\n        o.volume = e,\n        localStorage.setItem(\"sitespeakerVolume\", e)\n    }\n    w.click(function(e) {\n        k(P(w, e))\n    }),\n    E.click(function() {\n        return !1\n    }),\n    E.on(\"mousedown touchstart\", function() {\n        r.volumeKnob = !0;\n        var n = A(o.isTTS ? 500 : 100, k);\n        return T(function(e) {\n            var e = P(w, e)\n              , t = 100 * e + \"%\";\n            E.css(\"left\", t),\n            b.css(\"width\", t),\n            n(e)\n        }, function() {\n            r.volumeKnob = !1\n        }),\n        !1\n    }),\n    a(o).on(\"play\", function() {\n        a(t).addClass(\"ra-playing\")\n    }),\n    a(o).on(\"progress\", function(e) {\n        l.css(\"width\", 100 * e.loaded / e.total + \"%\")\n    }),\n    a(o).on(\"playing\", function() {\n        a(t).removeClass(\"ra-stalled ra-error\")\n    }),\n    a(o).on(\"pause ended\", function() {\n        a(t).removeClass(\"ra-playing\")\n    }),\n    a(o).on(\"error\", function() {\n        a(t).addClass(\"ra-error\"),\n        u.text(o.error.message)\n    }),\n    a(o).on(\"stalled\", function() {\n        a(t).addClass(\"ra-stalled\")\n    }),\n    a(o).on(\"timeupdate\", function() {\n        var e;\n        r.seekKnob || (e = 100 * o.currentTime / o.duration + \"%\",\n        h.css(\"left\", e),\n        d.css(\"width\", e),\n        o.duration &amp;&amp; o.duration != 1 / 0 &amp;&amp; S(o.currentTime))\n    }),\n    a(o).on(\"voicechange\", function() {\n        f.val(o.voice.name)\n    }),\n    a(o).on(\"ratechange\", function() {\n        var e;\n        r.rateKnob || (e = 50 + 50 * Math.log(o.playbackRate) / Math.log(2) + \"%\",\n        p.is(\".ra-vertical\") ? (g.css(\"bottom\", e),\n        v.css(\"height\", e)) : (g.css(\"left\", e),\n        v.css(\"width\", e)))\n    }),\n    a(o).on(\"volumechange\", function() {\n        var e;\n        r.volumeKnob || (e = 100 * o.volume + \"%\",\n        w.is(\".ra-vertical\") ? (E.css(\"bottom\", e),\n        b.css(\"height\", e)) : (E.css(\"left\", e),\n        b.css(\"width\", e)))\n    }),\n    o.isTTS &amp;&amp; (y = localStorage.getItem(\"sitespeakerVoice\")) &amp;&amp; (n = o.voices.find(function(e) {\n        return e.name == y\n    })) &amp;&amp; (o.voice = n);\n    i = localStorage.getItem(\"sitespeakerRate\") || e.defaultRate,\n    i &amp;&amp; (o.defaultPlaybackRate = o.playbackRate = Number(i)),\n    a(o).triggerHandler(\"ratechange\"),\n    n = localStorage.getItem(\"sitespeakerVolume\") || e.defaultVolume;\n    function T(t, n) {\n        function o(e) {\n            return e.clientX = e.originalEvent.changedTouches[0].clientX,\n            e.clientY = e.originalEvent.changedTouches[0].clientY,\n            t(e),\n            !1\n        }\n        function r(e) {\n            return e.clientX = e.originalEvent.changedTouches[0].clientX,\n            e.clientY = e.originalEvent.changedTouches[0].clientY,\n            i(e),\n            !1\n        }\n        function i(e) {\n            return a(document).off(\"mousemove\", t),\n            a(document).off(\"mouseup mouseleave\", i),\n            a(document).off(\"touchmove\", o),\n            a(document).off(\"touchend touchcancel\", r),\n            n &amp;&amp; n(e),\n            !1\n        }\n        a(document).on(\"mousemove\", t),\n        a(document).on(\"mouseup mouseleave\", i),\n        a(document).on(\"touchmove\", o),\n        a(document).on(\"touchend touchcancel\", r)\n    }\n    function P(e, t) {\n        var n = e.get(0).getBoundingClientRect()\n          , e = e.is(\".ra-vertical\") ? 1 - (t.clientY - n.top) / n.height : (t.clientX - n.left) / n.width;\n        return Math.min(1, Math.max(e, 0))\n    }\n    function S(e) {\n        var t;\n        o.isTTS ? s.text(Math.min(Math.round(e) + 1, o.duration) + \"/\" + o.duration) : s.text(\"-\" + (e = o.duration - e,\n        t = Math.floor(e / 60),\n        e = Math.floor(e - 60 * t),\n        (t &lt; 10 ? \"0\" : \"\") + t + \":\" + (e &lt; 10 ? \"0\" : \"\") + e))\n    }\n    function A(e, t) {\n        var n, o;\n        return function() {\n            o = {\n                this: this,\n                args: arguments\n            },\n            n = n || setTimeout(r, e)\n        }\n        ;\n        function r() {\n            n = null,\n            t.apply(o.this, o.args)\n        }\n    }\n    n &amp;&amp; (o.volume = Number(n)),\n    a(o).triggerHandler(\"volumechange\")\n}\nfunction ReadAloudDoc(i) {\n    var a = [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\"]\n      , s = [\"P\", \"BLOCKQUOTE\", \"PRE\"]\n      , r = [\"OL\", \"UL\"];\n    function u(e) {\n        i(e).find(\"sup\").hide(),\n        i(e).find(\"*\").filter(function() {\n            return this.style &amp;&amp; \"absolute\" == this.style.position\n        }).hide();\n        var t = e.innerText.trim();\n        return \"LI\" == e.tagName ? i(e).index() + 1 + \". \" + t : t\n    }\n    function c(e) {\n        e = e ? a.indexOf(e.tagName) : -1;\n        return -1 == e ? 100 : e + 1\n    }\n    function l(e, t) {\n        return e == document.body ? null : 1 == e.nodeType &amp;&amp; !t &amp;&amp; e.lastChild ? e.lastChild : e.previousSibling || l(e.parentNode, !0)\n    }\n    function d(e) {\n        return e\n    }\n    this.getTexts = function() {\n        0 &lt; i(\".read-aloud\").length || (0 &lt; i(\".sitespeaker-read-aloud\").length ? i(\".sitespeaker-read-aloud\").addClass(\"read-aloud\") : (e = function(e) {\n            for (var t = e.slice(0, 1), n = 1; n &lt; e.length; n++)\n                e[n] != e[n - 1] &amp;&amp; t.push(e[n]);\n            return t\n        }(e = i(\"p\").not(\"blockquote &gt; p\").parent().get()),\n        (e = i(e).filter(\":visible\").get()).length ? (n = e.map(function(e) {\n            return i(e).children(s.join(\", \")).text().length\n        }),\n        o = Math.max.apply(null, n),\n        (e = e.filter(function(e, t) {\n            return n[t] &gt; o / 7\n        })).forEach(function(e) {\n            i(function(e) {\n                var t = []\n                  , e = i(e).children(a.concat(s).join(\", \")).get(0)\n                  , n = c(e)\n                  , o = l(e, !0);\n                for (; o &amp;&amp; !i(o).hasClass(\"read-aloud\"); ) {\n                    var r;\n                    1 != o.nodeType || (r = c(o)) &lt; n &amp;&amp; (t.push(o),\n                    n = r),\n                    o = l(o)\n                }\n                return t.reverse()\n            }(e)).addClass(\"read-aloud\"),\n            i(e).children(a.concat(s).join(\", \")).addClass(\"read-aloud\"),\n            i(e).children(r.join(\", \")).children(\"li\").addClass(\"read-aloud\")\n        })) : i(a.concat(s).join(\", \")).filter(\":visible\").addClass(\"read-aloud\")));\n        var n, o, e = i(\".no-read-aloud:visible\").hide(), t = function(e) {\n            for (var t = i(e).get().map(u).filter(d), n = 0; n &lt; t.length; n++)\n                /\\w$/.test(t[n]) &amp;&amp; (t[n] += \".\");\n            return console.log(t),\n            t\n        }(\".read-aloud:visible\");\n        return e.show(),\n        t\n    }\n}\n\nfunction readAloudInit(o, r,t) {\n    var i = o.getAttribute(\"data-lang\")\n      , a = o.getAttribute(\"data-voice\")\n      , s = o.getAttribute(\"data-key\")\n      , u = o.getAttribute(\"data-speed\") || o.getAttribute(\"data-rate\")\n      , c = o.getAttribute(\"data-volume\")\n      , l = \"free\" == a || s.startsWith(\"39d740e\") ? new ReadAloudWebSpeech : null;\n    return r &amp;&amp; t ? d().then(function() {\n        var e = r.getElementsByClassName(\"ra-btn-play\")[0]\n          , t = function() {\n            e.removeEventListener(\"click\", t),\n            /iPad|iPhone|iPod/.test(navigator.userAgent) &amp;&amp; (o.src = \"https://assets.readaloudwidget.com/embed/sound/silence.mp3\",\n            o.play(),\n            l &amp;&amp; \"undefined\" != typeof speechSynthesis &amp;&amp; speechSynthesis.speak(new SpeechSynthesisUtterance(\" \"))),\n            n()\n        };\n        e.addEventListener(\"click\", t)\n    }) : n();\n    function n() {\n        var n;\n        return Promise.all([l &amp;&amp; l.ready(i), !window.jQuery &amp;&amp; h(\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\").then(eval)]).then(function(e) {\n            n = e[0];\n            var e = \"function\" == typeof readAloudGetText ? readAloudGetText(jQuery) : new ReadAloudDoc(jQuery).getTexts().join(\"\\n\\n\");\n            return Promise.all([n ? e : (e = e,\n            function(o, r) {\n                return new Promise(function(e, t) {\n                    var n = new XMLHttpRequest;\n                    n.open(\"POST\", o, !0),\n                    n.setRequestHeader(\"Content-type\", \"application/json\"),\n                    n.onreadystatechange = function() {\n                        4 == n.readyState &amp;&amp; (200 == n.status ? e(n.responseText) : t(new Error(n.responseText || n.statusText || n.status)))\n                    }\n                    ,\n                    n.send(JSON.stringify(r))\n                }\n                )\n            }(\"https://ws.readaloudwidget.com/synthesize?t=\" + Date.now(), {\n                text: e,\n                lang: i,\n                voice: a,\n                key: s,\n                referer: location.href\n            }).then(JSON.parse).then(function(e) {\n                return e.url\n            })), r &amp;&amp; (t ? Promise.resolve() : d()).then(function() {\n                new ReadAloudPlayer(n ? l : o,r,jQuery,{\n                    defaultRate: u,\n                    defaultVolume: c\n                }),\n                jQuery(r).addClass(\"ra-loading\")\n            })])\n        }).then(function(e) {\n            function t() {\n                jQuery(r).removeClass(\"ra-loading\")\n            }\n            n ? (jQuery(l).one(\"canplay\", t),\n            l.setText(e[0]),\n            l.play()) : (jQuery(o).one(\"canplay\", t),\n            o.src = e[0],\n            o.play())\n        })\n    }\n    function d() {\n        var e, t = r.getAttribute(\"data-skin\");\n        return Promise.all([h(t + \"/template.html\"), (t = t + \"/styles.css\",\n        e = document.createElement(\"LINK\"),\n        document.head.appendChild(e),\n        e.setAttribute(\"type\", \"text/css\"),\n        e.setAttribute(\"rel\", \"stylesheet\"),\n        void e.setAttribute(\"href\", t))]).then(function(e) {\n            r.innerHTML = e[0]\n        })\n    }\n    function h(o) {\n        return new Promise(function(e, t) {\n            var n = new XMLHttpRequest;\n            n.open(\"GET\", o, !0),\n            n.onreadystatechange = function() {\n                4 == n.readyState &amp;&amp; (200 == n.status ? e(n.responseText) : t(new Error(n.responseText || n.statusText || n.status)))\n            }\n            ,\n            n.send(null)\n        }\n        )\n    }\n}\n</code></pre>"},{"location":"plug-in/lista/","title":"Plugins","text":""},{"location":"plug-in/lista/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Arquivo para a documenta\u00e7\u00e3o dos \"plug-ins\" e software correlacionados a serem pesquisados e/ou recusados.</p> <p>A tabela segue a estrutura abaixo, sendo plug-in o nome da aplica\u00e7\u00e3o. Link, o endere\u00e7o URL do c\u00f3digo fonte (de prefer\u00eancia github). Status variar\u00e1 entre \"vago\", \"trabalhando\" e \"recusado\", sendo que a observa\u00e7\u00e3o ser\u00e1 tanto a justificativa da recusa de um plug-in ou seu nome, caso esteja trabalhando nele. Caso o mesmo esteja vago, pode colocar alguma observa\u00e7\u00e3o sobre ele.</p>"},{"location":"plug-in/lista/#tabela","title":"Tabela","text":"plug-in link Status Observa\u00e7\u00e3o Open TTS github recusado N\u00e3o tem em PT-BR marytts github recusado N\u00e3o \u00e9 plug-in e \u00e9 pesado Mozila TTS github vago N\u00e3o \u00e9 plug-in mas o c\u00f3digo pode ser \u00fatil Read Aloud github Trabalhando Gabriel Talkie github Razo\u00e1vel Funciona, mas a voz \u00e9 rob\u00f3tica Announcify web store recusado demanda muito tempo para carregar, nem sempre funciona e os links para documenta\u00e7\u00e3o est\u00e3o quebrados"},{"location":"plug-in/template-lista/","title":"Template lista","text":""},{"location":"plug-in/template-lista/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Esse arquivo serve para criar o esqueleto da tabela dos plug-ins. Qualquer altera\u00e7\u00e3o na tabela deve ser feita nesse arquivo e n\u00e3o no oficial.</p> <p>A tabela seguir\u00e1 com os campos plug-in, que recebe o seu nome, seguida da sua Url. Seu status ser\u00e1 definido entre: \"N\u00e3o definido\", \"trabalhando\" e \"recusado\". O campo de observa\u00e7\u00e3o serve para justificar o recusado e tamb\u00e9m colocar seu nome caso esteja sendo trabalhado. </p>"},{"location":"plug-in/template-lista/#tabela","title":"Tabela","text":"plug-in link Status Observa\u00e7\u00e3o"},{"location":"plug-in/template-lista/#versionamento","title":"Versionamento","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor(es) <code>1.0</code> 21/06/2023 Cria\u00e7\u00e3o do documento Jo\u00e3o Pedro"},{"location":"plug-in/verificacao/","title":"Verificacao","text":""},{"location":"plug-in/verificacao/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Esse documento se trata da checklist de verifica\u00e7\u00e3o dos plug-ins elencados. Ele servir\u00e1 de aux\u00edlio para os testes.</p>"},{"location":"plug-in/verificacao/#descricao-de-cada-coluna","title":"Descri\u00e7\u00e3o de cada coluna","text":"<ul> <li>Consumo de dados: verifica\u00e7\u00e3o do consumo de dados de internet;</li> <li>Software livre: verificar se o c\u00f3digo do plugin est\u00e1 dispon\u00edvel para ser copiado, usado,modificado e redistribu\u00eddo;</li> <li>Navegadores: verificar se o plugin est\u00e1 dispon\u00edvel para os principais navegadores (chrome, mozilla, safari);</li> <li>Voz reconhec\u00edvel: verificar se a voz usada no plugin \u00e9 razoavelmente natural;</li> <li>S\u00edmbolos: verificar se o plugin reconhece s\u00edmbolos, datas, hor\u00e1rios...;</li> <li>PT-BR: verificar se o plugin est\u00e1 dispon\u00edvel para portugu\u00eas do Brasil.</li> </ul>"},{"location":"plug-in/verificacao/#checklist","title":"Checklist","text":"Consumo de dados Software livre navegadores Voz reconhec\u00edvel s\u00edmbolos PT-BR marytts :heavy_check_mark: :heavy_check_mark: Mozilla TTS :heavy_check_mark: :heavy_check_mark: Read Aloud :heavy_check_mark: :heavy_check_mark: Talkie :heavy_check_mark: :heavy_check_mark:"},{"location":"requisitos/requisitos-plug/","title":"Requisitos","text":""},{"location":"requisitos/requisitos-plug/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este documento utiliza a t\u00e9cnica do MoScoW para definir os requisitos do projeto. Essa t\u00e9cnica consiste em definir os requisitos em 4 categorias: Must have, Should have, Could have e Won't have. Abaixo est\u00e3o listados os requisitos do projeto.</p>"},{"location":"requisitos/requisitos-plug/#requisitos","title":"Requisitos","text":""},{"location":"requisitos/requisitos-plug/#must-have","title":"Must Have","text":"<ul> <li>Baixo consumo de dados.</li> <li>Software livre.</li> <li>Dispon\u00edvel em PT-BR</li> <li>Voz reconhec\u00edvel.</li> </ul>"},{"location":"requisitos/requisitos-plug/#should-have","title":"Should Have","text":"<ul> <li>Voz natural.</li> <li>reconhecimento de s\u00edmbolos.</li> <li>Localizado em PT-BR (express\u00f5es).</li> <li>Funcionar na maioria dos navegadores (chrome, mozila, safari).</li> </ul>"},{"location":"requisitos/requisitos-plug/#could-have","title":"Could Have","text":"<ul> <li>seletor de vozes.</li> </ul>"},{"location":"requisitos/requisitos-plug/#wont-have","title":"Won't Have","text":"<ul> <li>interface gr\u00e1fica</li> </ul>"},{"location":"testes/ferramentas/","title":"Ferramentas","text":""},{"location":"testes/ferramentas/#ferramentas","title":"Ferramentas","text":""},{"location":"testes/ferramentas/#net-limiter","title":"Net Limiter","text":"<ul> <li>Limita a velocidade da banda larga no windows</li> </ul>"},{"location":"testes/ferramentas/#nload","title":"Nload","text":"<ul> <li>Disponibiliza o uso da banda larga</li> </ul>"},{"location":"testes/ferramentas/#wondershaper","title":"Wondershaper","text":"<ul> <li>Limita a velocidade da banda larga no Linux</li> </ul>"},{"location":"testes/ferramentas/#dev-tools-google-mozilla-e-edge","title":"Dev Tools (Google, Mozilla e Edge)","text":"<ul> <li>Disponibiliza o uso da banda larga</li> </ul>"},{"location":"testes/modelo-testes/","title":"Teste (nome plug-in)","text":""},{"location":"testes/modelo-testes/#desempenho-utilizando-banda-larga-upload-mbs-download-mbs","title":"Desempenho utilizando banda larga (Upload: MB/s, Download: MB/s)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado (Data) (Computador, celular, etc.) (Tempo em ms) (Tamanho em MB) (Consumo em MB/s) (Google, Mozila, Edge)"},{"location":"testes/roteiro-testes/","title":"Roteiro de testes","text":""},{"location":"testes/roteiro-testes/#roteiro-dos-testes","title":"Roteiro dos testes","text":""},{"location":"testes/roteiro-testes/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Para verificar se os plug-ins atendem os requisitos do projeto realizamos testes utilizando os mesmos. Para isso buscamos simular o ambiente em que os usu\u00e1rios utilizam.</p>"},{"location":"testes/roteiro-testes/#configuracao-do-ambiente","title":"Configura\u00e7\u00e3o do ambiente","text":"<p>Para simular o ambiente utilizamos ferramentas para limitar a velocidade da rede, desta forma emulando a velocidade usual que os usu\u00e1rios utilizam.</p> <p></p>  Imagem 1: Velocidade m\u00e9dia de download de rede m\u00f3vel para planos 3G e 4G <p></p>  Imagem 2: Velocidade m\u00e9dia de upload de rede m\u00f3vel para planos 3G e 4G"},{"location":"testes/roteiro-testes/#roteiro-de-testes","title":"Roteiro de testes","text":"<ol> <li>A rede deve ser limitada</li> <li>O texto da p\u00e1gina de ouvidoria do gov.br deve ser selecionado</li> <li>A extens\u00e3o deve ser executada at\u00e9 que o texto inteiro seja lido</li> <li>Os dados de uso devem ser coletados e expostos seguindo o modelo de apresenta\u00e7\u00e3o</li> </ol>"},{"location":"testes/testes-lista/","title":"Teste (Read Aloud)","text":""},{"location":"testes/testes-lista/#desempenho-utilizando-banda-larga-upload-05-mbs-download-1-mbs","title":"Desempenho utilizando banda larga (Upload: 0,5 MB/s, Download: 1 MB/s)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado Observa\u00e7\u00f5es 02/07/2023 Notebook / Windows 1.86 seg pra iniciar 5.5 MB 54.0 Kbit/s Google Chrome S\u00f3 as vozes offline funcionaram, as outras d\u00e3o tempo excedido 02/07/2023 Notebook / Windows 2.42 seg pra iniciar 5.25 MB 88.0 Kbits/s Edge Vozes offline funcionam"},{"location":"testes/testes-lista/#desempenho-utilizando-banda-larga-upload-25-mbs-download-8mbs","title":"Desempenho utilizando banda larga (Upload: 2,5 MB/s, Download: 8MB/s)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado Observa\u00e7\u00f5es 03/07/2023 Notebook / Linux 1.06 seg para iniciar 5.25 MB 42.0 Kbit/s Google Chrome 03/07/2023 Notebook / Linux 1.03 seg para iniciar 4.625 MB 37.0 Kbit/s Mozilla 03/07/2023 Notebook / Linux 1.11 seg para iniciar 15.25 MB 120.0 Kbit/s Edge O navegador edge de f\u00e1brica aparenta refazer requisi\u00e7\u00f5es enquanto a p\u00e1gina roda"},{"location":"testes/testes-lista/#teste-talkie","title":"Teste (Talkie)","text":""},{"location":"testes/testes-lista/#desempenho-utilizando-banda-larga-upload-05-mbs-download-1-mbs_1","title":"Desempenho utilizando banda larga (Upload: 0,5 MB/s, Download: 1 MB/s)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado Observa\u00e7\u00f5es 03/07/2023 Notebook / Windows 1.44 seg para iniciar 4.75 MB 32.0 Kbit/s Google Chrome 03/07/2023 - - - - Edge O navegador n\u00e3o possui acesso a esta extens\u00e3o"},{"location":"testes/testes-lista/#desempenho-utilizando-banda-larga-upload-25-mbs-download-8mbs_1","title":"Desempenho utilizando banda larga (Upload: 2,5 MB/s, Download: 8MB/s)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado Observa\u00e7\u00f5es 03/07/2023 Notebook / Linux 0.98 seg para iniciar 3.75 MB 30.0 Kbit/s Google Chrome 03/07/2023 Notebook / Linux 1.00 seg para iniciar 3.85 MB 31.0 Kbit/s Mozilla Para utilizar o talkie no mozilla de f\u00e1brica \u00e9 necess\u00e1rio instalar vozes no sistema 03/07/2023 - - - - Edge O navegador n\u00e3o possui acesso a esta extens\u00e3o"},{"location":"testes/testes-lista/#teste-espeak","title":"Teste (eSpeak)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado Observa\u00e7\u00f5es 17/07/2023 Notebook/Linux 0.1s Roda offline Roda offline roda em linha de c\u00f3digo ou em uma interface pr\u00f3pria Voz pt-br n\u00e3o \u00e9 localizada (parece portugu\u00eas de portugal e robotizada)"},{"location":"testes/testes-lista/#teste-responsivevoice","title":"Teste (ResponsiveVoice)","text":""},{"location":"testes/testes-lista/#desempenho-utilizando-banda-larga-upload-05-mbs-download-1-mbs_2","title":"Desempenho utilizando banda larga (Upload: 0,5 MB/s, Download: 1 MB/s)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado Observa\u00e7\u00f5es 17/07/2023 Notebook/Linux 0.5s 5.56 MB 44.5 Kbit/s Google Chrome 17/07/2023 Notebook/Linux 0.5s 5.37 MB 43.0 Kbit/s Mozilla 17/07/2023 Notebook/Linux 0.5s 21.00 MB 168.00 Kbit/s Edge"},{"location":"testes/testes-lista/#teste-mozilla-tts","title":"Teste (Mozilla TTS)","text":"Data de realiza\u00e7\u00e3o Hardware Utilizado Tempo de Resposta Tamanho do Pacote utilizado Consumo de dados m\u00e9dio Navegador Utilizado Observa\u00e7\u00f5es 12/07/2023 Notebook/Linux 0.3s Roda offline Roda offline Roda em linha de c\u00f3digo Voz com sotaque muito carregado"}]}